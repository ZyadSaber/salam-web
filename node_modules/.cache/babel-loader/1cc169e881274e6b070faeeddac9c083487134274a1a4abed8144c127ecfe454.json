{"ast":null,"code":"import _regeneratorRuntime from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useCallback}from\"react\";var useFetch=function useFetch(link){var url=\"http://144.24.209.19:9090/api/v1/\".concat(link);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),run=_useState4[0],setRun=_useState4[1];var getData=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(link){var response,apiData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(link);case 2:response=_context.sent;_context.next=5;return response.json();case 5:apiData=_context.sent;setData(apiData);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),[]);useEffect(function(){getData(url);setRun(false);},[getData,url,run]);return{data:data,setRun:setRun,setData:setData};};export default useFetch;","map":{"version":3,"names":["useState","useEffect","useCallback","useFetch","link","url","data","setData","run","setRun","getData","fetch","response","json","apiData"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/useFetch.ts"],"sourcesContent":["import React,{ useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useFetch = (link : string) => {\r\n  const url = `http://144.24.209.19:9090/api/v1/${link}`\r\n    const [data, setData] = useState<any>([]);\r\n    const [run, setRun] = useState(false)\r\n\r\nconst getData = useCallback(async(link: string)=>{\r\n    const response=await fetch(link);\r\n    const apiData=await response.json();  \r\n  setData(apiData);\r\n},[])\r\n\r\n    useEffect(() => {\r\n      getData(url)\r\n      setRun(false)\r\n      }, [getData, url, run]);\r\n\r\n      return{data, setRun, setData}\r\n}\r\n\r\nexport default useFetch"],"mappings":"sZAAA,OAAeA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAE9D,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,IAAa,CAAK,CAClC,GAAMC,IAAG,4CAAuCD,IAAI,CAAE,CACpD,cAAwBJ,QAAQ,CAAM,EAAE,CAAC,wCAAlCM,IAAI,eAAEC,OAAO,eACpB,eAAsBP,QAAQ,CAAC,KAAK,CAAC,yCAA9BQ,GAAG,eAAEC,MAAM,eAEtB,GAAMC,QAAO,CAAGR,WAAW,4FAAC,iBAAME,IAAY,+JACrBO,MAAK,CAACP,IAAI,CAAC,QAA1BQ,QAAQ,qCACMA,SAAQ,CAACC,IAAI,EAAE,QAA7BC,OAAO,eACfP,OAAO,CAACO,OAAO,CAAC,CAAC,sDAClB,+DAAC,EAAE,CAAC,CAEDb,SAAS,CAAC,UAAM,CACdS,OAAO,CAACL,GAAG,CAAC,CACZI,MAAM,CAAC,KAAK,CAAC,CACb,CAAC,CAAE,CAACC,OAAO,CAAEL,GAAG,CAAEG,GAAG,CAAC,CAAC,CAEvB,MAAM,CAACF,IAAI,CAAJA,IAAI,CAAEG,MAAM,CAANA,MAAM,CAAEF,OAAO,CAAPA,OAAO,CAAC,CACnC,CAAC,CAED,cAAeJ,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}