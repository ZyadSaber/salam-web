{"ast":null,"code":"import _slicedToArray from\"C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import useFetch from'../../hooks/useFetch';var useCheckUser=function useCheckUser(userName,password){var _useFetch=useFetch(\"http://localhost:8000/users\"),data=_useFetch.data;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),authorization=_useState4[0],setAuthorization=_useState4[1];useEffect(function(){for(var i=0;i<data.length;i++){if(data[i].username===userName&&data[i].password===password){setAuthorization(true);setUser({username:data[i].username,role:data[i].role});window.localStorage.setItem('user',JSON.stringify(user));}}},[data,password,user,userName]);return{authorization:authorization};};export default useCheckUser;","map":{"version":3,"names":["useState","useEffect","useFetch","useCheckUser","userName","password","data","user","setUser","authorization","setAuthorization","i","length","username","role","window","localStorage","setItem","JSON","stringify"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/src/Pages/SignInPage/useCheckUser.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport useFetch from '../../hooks/useFetch';\r\n\r\nconst useCheckUser = (userName: string, password: string) => {\r\n    const { data } = useFetch(\"http://localhost:8000/users\")\r\n    const [user, setUser] = useState({\r\n\r\n    })\r\n    const [ authorization, setAuthorization ] = useState<boolean>(false)\r\n\r\n\r\n   useEffect(()=>{\r\n     for (let i=0; i < data.length ; i++) {\r\n        if (data[i].username === userName && data[i].password === password) {\r\n            setAuthorization(true)\r\n            setUser({\r\n                username: data[i].username,\r\n                role: data[i].role,\r\n            })\r\n            window.localStorage.setItem('user', JSON.stringify(user))\r\n        }\r\n    }\r\n   }, [data, password, user, userName])\r\n\r\n\r\n      return{authorization}\r\n}\r\n\r\nexport default useCheckUser"],"mappings":"4IAAA,OAASA,QAAQ,CAAEC,SAAS,KAAqB,OAAO,CACxD,MAAOC,SAAQ,KAAM,sBAAsB,CAE3C,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,QAAgB,CAAEC,QAAgB,CAAK,CACzD,cAAiBH,QAAQ,CAAC,6BAA6B,CAAC,CAAhDI,IAAI,WAAJA,IAAI,CACZ,cAAwBN,QAAQ,CAAC,CAEjC,CAAC,CAAC,wCAFKO,IAAI,eAAEC,OAAO,eAGpB,eAA4CR,QAAQ,CAAU,KAAK,CAAC,yCAA5DS,aAAa,eAAEC,gBAAgB,eAGxCT,SAAS,CAAC,UAAI,CACZ,IAAK,GAAIU,EAAC,CAAC,CAAC,CAAEA,CAAC,CAAGL,IAAI,CAACM,MAAM,CAAGD,CAAC,EAAE,CAAE,CAClC,GAAIL,IAAI,CAACK,CAAC,CAAC,CAACE,QAAQ,GAAKT,QAAQ,EAAIE,IAAI,CAACK,CAAC,CAAC,CAACN,QAAQ,GAAKA,QAAQ,CAAE,CAChEK,gBAAgB,CAAC,IAAI,CAAC,CACtBF,OAAO,CAAC,CACJK,QAAQ,CAAEP,IAAI,CAACK,CAAC,CAAC,CAACE,QAAQ,CAC1BC,IAAI,CAAER,IAAI,CAACK,CAAC,CAAC,CAACG,IAClB,CAAC,CAAC,CACFC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,CAAC,CAC7D,CACJ,CACD,CAAC,CAAE,CAACD,IAAI,CAAED,QAAQ,CAAEE,IAAI,CAAEH,QAAQ,CAAC,CAAC,CAGjC,MAAM,CAACK,aAAa,CAAbA,aAAa,CAAC,CAC3B,CAAC,CAED,cAAeN,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}