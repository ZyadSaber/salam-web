{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nconst useFetch = _ref => {\n  _s();\n  let {\n    link,\n    fetchOnFirstRun,\n    refreshTimeout,\n    params\n  } = _ref;\n  // const url = `http://144.24.209.19:9090/api/v1/${link}`\n  const url = `http://127.0.0.1:9090/api/v1/${link}`;\n  const [data, setData] = useState([]);\n  const getData = () => {\n    async link => {\n      const response = await fetch(link + \"?\" + new URLSearchParams(params));\n      const apiData = await response.json();\n      setData(apiData);\n    };\n  };\n  useEffect(() => {\n    if (fetchOnFirstRun) {\n      getData(url);\n    }\n  }, [fetchOnFirstRun, getData, url, params]);\n  const refresh = () => {\n    getData(url);\n  };\n\n  // setInterval(refresh, 60000)\n\n  return {\n    data,\n    refresh,\n    setData\n  };\n};\n_s(useFetch, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useFetch","link","fetchOnFirstRun","refreshTimeout","params","url","data","setData","getData","response","fetch","URLSearchParams","apiData","json","refresh"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/useFetch.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\ninterface useFetchProp {\r\n  link: string;\r\n  fetchOnFirstRun?: boolean;\r\n  refreshTimeout?: number;\r\n  params?: any\r\n}\r\n\r\nconst useFetch = ({link, fetchOnFirstRun, refreshTimeout, params}: useFetchProp) => {\r\n  // const url = `http://144.24.209.19:9090/api/v1/${link}`\r\n  const url = `http://127.0.0.1:9090/api/v1/${link}`\r\n    const [data, setData] = useState<any>([]);\r\n\r\nconst getData = ()=>{async(link: string)=>{\r\n    const response=await fetch(link + \"?\" + new URLSearchParams(params));\r\n    const apiData=await response.json();  \r\n  setData(apiData);\r\n}}\r\n\r\n    useEffect(() => {\r\n      if(fetchOnFirstRun){\r\n      getData(url)\r\n      }\r\n      }, [fetchOnFirstRun, getData, url, params]);\r\n\r\n      const refresh = ()=>{\r\n      getData(url)\r\n      }\r\n\r\n      // setInterval(refresh, 60000)\r\n\r\n      return{data, refresh, setData}\r\n}\r\n\r\nexport default useFetch"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAqB,OAAO;AASxD,MAAMC,QAAQ,GAAG,QAAmE;EAAA;EAAA,IAAlE;IAACC,IAAI;IAAEC,eAAe;IAAEC,cAAc;IAAEC;EAAoB,CAAC;EAC7E;EACA,MAAMC,GAAG,GAAI,gCAA+BJ,IAAK,EAAC;EAChD,MAAM,CAACK,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAM,EAAE,CAAC;EAE7C,MAAMU,OAAO,GAAG,MAAI;IAAC,MAAMP,IAAY,IAAG;MACtC,MAAMQ,QAAQ,GAAC,MAAMC,KAAK,CAACT,IAAI,GAAG,GAAG,GAAG,IAAIU,eAAe,CAACP,MAAM,CAAC,CAAC;MACpE,MAAMQ,OAAO,GAAC,MAAMH,QAAQ,CAACI,IAAI,EAAE;MACrCN,OAAO,CAACK,OAAO,CAAC;IAClB,CAAC;EAAA,CAAC;EAEEb,SAAS,CAAC,MAAM;IACd,IAAGG,eAAe,EAAC;MACnBM,OAAO,CAACH,GAAG,CAAC;IACZ;EACA,CAAC,EAAE,CAACH,eAAe,EAAEM,OAAO,EAAEH,GAAG,EAAED,MAAM,CAAC,CAAC;EAE3C,MAAMU,OAAO,GAAG,MAAI;IACpBN,OAAO,CAACH,GAAG,CAAC;EACZ,CAAC;;EAED;;EAEA,OAAM;IAACC,IAAI;IAAEQ,OAAO;IAAEP;EAAO,CAAC;AACpC,CAAC;AAAA,GAxBKP,QAAQ;AA0Bd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}