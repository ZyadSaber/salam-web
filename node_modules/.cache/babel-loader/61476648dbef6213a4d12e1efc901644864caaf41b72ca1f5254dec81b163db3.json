{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback } from \"react\";\nimport useDelete from \"../../../hooks/useDelete\";\nimport usePut from \"../../../hooks/usePut\";\nimport usePost from \"../../../hooks/usePost\";\nconst useTableControlsButtons = api => {\n  _s();\n  const [selectedRow, setSelectedRow] = useState({});\n  const [mode, setMode] = useState(\"\");\n  const [response, setResponse] = useState(false);\n  const {\n    setRow: rowToAdd\n  } = usePost(api);\n  const {\n    setRow: rowToEdit,\n    setId: idToEdit\n  } = usePut(api);\n  const {\n    setRow: rowToDelete,\n    setId: idToDelete\n  } = useDelete(api);\n  const [modal, setModal] = useState(false);\n  const onSaveAndInsertion = useCallback(() => {\n    if (mode === \"n\") {\n      rowToAdd(selectedRow);\n      setSelectedRow({});\n      setMode(\"\");\n      setModal(false);\n    } else if (mode === \"u\") {\n      rowToEdit(selectedRow);\n      idToEdit(selectedRow.id);\n      setSelectedRow({});\n      setMode(\"\");\n      setModal(false);\n    }\n  }, [idToEdit, mode, rowToAdd, rowToEdit, selectedRow]);\n  const onDelete = useCallback(() => {\n    rowToDelete(selectedRow);\n    idToDelete(selectedRow.id);\n  }, [idToDelete, rowToDelete, selectedRow]);\n  return {\n    setSelectedRow,\n    onDelete,\n    onSaveAndInsertion,\n    setMode,\n    selectedRow,\n    setModal,\n    modal\n  };\n};\n_s(useTableControlsButtons, \"DHHZn0jLqT5MGIH0m1wdK97ekoU=\", false, function () {\n  return [usePost, usePut, useDelete];\n});\nexport default useTableControlsButtons;","map":{"version":3,"names":["useState","useCallback","useDelete","usePut","usePost","useTableControlsButtons","api","selectedRow","setSelectedRow","mode","setMode","response","setResponse","setRow","rowToAdd","rowToEdit","setId","idToEdit","rowToDelete","idToDelete","modal","setModal","onSaveAndInsertion","id","onDelete"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/test/src/components/TableView/hooks/useTableControlsButtons.ts"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\nimport useDelete from \"../../../hooks/useDelete\";\r\nimport usePut from \"../../../hooks/usePut\";\r\nimport usePost from \"../../../hooks/usePost\";\r\n\r\ntype modeType = \"n\" | \"d\" | \"u\" | \"\"\r\n\r\nconst useTableControlsButtons = (api: string) => {\r\n\r\n    const [selectedRow, setSelectedRow] = useState<{id?:number}>({})\r\n    const [mode, setMode] = useState<modeType>(\"\")\r\n    const [response, setResponse] = useState(false)\r\n\r\n    const {  setRow: rowToAdd } = usePost(api)\r\n    const {  setRow: rowToEdit, setId: idToEdit } = usePut(api)\r\n    const { setRow: rowToDelete, setId: idToDelete } = useDelete(api)\r\n    const [modal, setModal] = useState(false)\r\n\r\n\r\n    const onSaveAndInsertion = useCallback(()=>{\r\n        if (mode === \"n\") {\r\n            rowToAdd(selectedRow)\r\n            setSelectedRow({})\r\n            setMode(\"\")\r\n            setModal(false)\r\n        } else if (mode === \"u\") {\r\n            rowToEdit(selectedRow)\r\n            idToEdit(selectedRow.id)\r\n            setSelectedRow({})\r\n            setMode(\"\")\r\n            setModal(false)\r\n        }\r\n    },[idToEdit, mode, rowToAdd, rowToEdit, selectedRow])\r\n    const onDelete = useCallback(()=>{\r\n         rowToDelete(selectedRow)\r\n        idToDelete(selectedRow.id)\r\n    },[idToDelete, rowToDelete, selectedRow])\r\n\r\n    return{setSelectedRow, onDelete, onSaveAndInsertion, setMode, selectedRow, setModal, modal}\r\n\r\n}\r\n\r\nexport default useTableControlsButtons"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC7C,OAAOC,SAAS,MAAM,0BAA0B;AAChD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,OAAOC,OAAO,MAAM,wBAAwB;AAI5C,MAAMC,uBAAuB,GAAIC,GAAW,IAAK;EAAA;EAE7C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAe,CAAC,CAAC,CAAC;EAChE,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAW,EAAE,CAAC;EAC9C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAM;IAAGa,MAAM,EAAEC;EAAS,CAAC,GAAGV,OAAO,CAACE,GAAG,CAAC;EAC1C,MAAM;IAAGO,MAAM,EAAEE,SAAS;IAAEC,KAAK,EAAEC;EAAS,CAAC,GAAGd,MAAM,CAACG,GAAG,CAAC;EAC3D,MAAM;IAAEO,MAAM,EAAEK,WAAW;IAAEF,KAAK,EAAEG;EAAW,CAAC,GAAGjB,SAAS,CAACI,GAAG,CAAC;EACjE,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAGzC,MAAMsB,kBAAkB,GAAGrB,WAAW,CAAC,MAAI;IACvC,IAAIQ,IAAI,KAAK,GAAG,EAAE;MACdK,QAAQ,CAACP,WAAW,CAAC;MACrBC,cAAc,CAAC,CAAC,CAAC,CAAC;MAClBE,OAAO,CAAC,EAAE,CAAC;MACXW,QAAQ,CAAC,KAAK,CAAC;IACnB,CAAC,MAAM,IAAIZ,IAAI,KAAK,GAAG,EAAE;MACrBM,SAAS,CAACR,WAAW,CAAC;MACtBU,QAAQ,CAACV,WAAW,CAACgB,EAAE,CAAC;MACxBf,cAAc,CAAC,CAAC,CAAC,CAAC;MAClBE,OAAO,CAAC,EAAE,CAAC;MACXW,QAAQ,CAAC,KAAK,CAAC;IACnB;EACJ,CAAC,EAAC,CAACJ,QAAQ,EAAER,IAAI,EAAEK,QAAQ,EAAEC,SAAS,EAAER,WAAW,CAAC,CAAC;EACrD,MAAMiB,QAAQ,GAAGvB,WAAW,CAAC,MAAI;IAC5BiB,WAAW,CAACX,WAAW,CAAC;IACzBY,UAAU,CAACZ,WAAW,CAACgB,EAAE,CAAC;EAC9B,CAAC,EAAC,CAACJ,UAAU,EAAED,WAAW,EAAEX,WAAW,CAAC,CAAC;EAEzC,OAAM;IAACC,cAAc;IAAEgB,QAAQ;IAAEF,kBAAkB;IAAEZ,OAAO;IAAEH,WAAW;IAAEc,QAAQ;IAAED;EAAK,CAAC;AAE/F,CAAC;AAAA,GAjCKf,uBAAuB;EAAA,QAMKD,OAAO,EACWD,MAAM,EACHD,SAAS;AAAA;AA2BhE,eAAeG,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}