{"ast":null,"code":"import _defineProperty from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useEffect}from\"react\";var useFormManager=function useFormManager(_ref){var initialValue=_ref.initialValue,setSelectedRow=_ref.setSelectedRow;var _useState=useState(),_useState2=_slicedToArray(_useState,2),initialValues=_useState2[0],setInitialValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];var onChange=useCallback(function(change){//@ts-ignore\nif(setSelectedRow)setSelectedRow(_objectSpread(_objectSpread({},initialValue),{},_defineProperty({},change.name,change.value)));setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},change.name,change.value)));setInitialValues(initialValues);},[initialValues,initialValue,setSelectedRow,state]);useEffect(function(){if(setSelectedRow){setState(initialValue);}},[initialValue,setSelectedRow]);useEffect(function(){setState(initialValue);},[]);var resetState=useCallback(function(){setSelectedRow(initialValues);},[initialValues,setSelectedRow]);return{state:state,onChange:onChange,resetState:resetState};};export default useFormManager;","map":{"version":3,"names":["useState","useCallback","useEffect","useFormManager","initialValue","setSelectedRow","initialValues","setInitialValues","state","setState","onChange","change","name","value","resetState"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/useFormManager.ts"],"sourcesContent":["import {useState, useCallback, useEffect} from \"react\";\n\ninterface useFormManagerProps {\n    initialValue?: any\n    setSelectedRow?: any\n}\n\nconst useFormManager =({initialValue, setSelectedRow}: useFormManagerProps)=>{\n    const [initialValues, setInitialValues] = useState()\n    const [state, setState] = useState<typeof initialValue>({})\n\n    const onChange = useCallback((change: any)=>{\n        //@ts-ignore\n            if (setSelectedRow)setSelectedRow({...initialValue, [change.name]: change.value})\n            setState({...state, [change.name]: change.value})\n            setInitialValues(initialValues)\n    },[initialValues, initialValue, setSelectedRow, state])\n\n    useEffect(()=>{\n        if(setSelectedRow){\n            setState(initialValue);\n        }\n    },[initialValue, setSelectedRow])\n\n    useEffect(()=>{\n        setState(initialValue);\n    },[])\n\n    const resetState = useCallback(()=>{\n        setSelectedRow(initialValues)\n    },[initialValues, setSelectedRow])\n\n    return{state, onChange, resetState}\n}\n\nexport default useFormManager"],"mappings":"uYAAA,OAAQA,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAO,OAAO,CAOtD,GAAMC,eAAc,CAAE,QAAhBA,eAAc,MAAyD,IAArDC,aAAY,MAAZA,YAAY,CAAEC,cAAc,MAAdA,cAAc,CAChD,cAA0CL,QAAQ,EAAE,wCAA7CM,aAAa,eAAEC,gBAAgB,eACtC,eAA0BP,QAAQ,CAAsB,CAAC,CAAC,CAAC,yCAApDQ,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,CAAGT,WAAW,CAAC,SAACU,MAAW,CAAG,CACxC;AACI,GAAIN,cAAc,CAACA,cAAc,gCAAKD,YAAY,wBAAGO,MAAM,CAACC,IAAI,CAAGD,MAAM,CAACE,KAAK,GAAE,CACjFJ,QAAQ,gCAAKD,KAAK,wBAAGG,MAAM,CAACC,IAAI,CAAGD,MAAM,CAACE,KAAK,GAAE,CACjDN,gBAAgB,CAACD,aAAa,CAAC,CACvC,CAAC,CAAC,CAACA,aAAa,CAAEF,YAAY,CAAEC,cAAc,CAAEG,KAAK,CAAC,CAAC,CAEvDN,SAAS,CAAC,UAAI,CACV,GAAGG,cAAc,CAAC,CACdI,QAAQ,CAACL,YAAY,CAAC,CAC1B,CACJ,CAAC,CAAC,CAACA,YAAY,CAAEC,cAAc,CAAC,CAAC,CAEjCH,SAAS,CAAC,UAAI,CACVO,QAAQ,CAACL,YAAY,CAAC,CAC1B,CAAC,CAAC,EAAE,CAAC,CAEL,GAAMU,WAAU,CAAGb,WAAW,CAAC,UAAI,CAC/BI,cAAc,CAACC,aAAa,CAAC,CACjC,CAAC,CAAC,CAACA,aAAa,CAAED,cAAc,CAAC,CAAC,CAElC,MAAM,CAACG,KAAK,CAALA,KAAK,CAAEE,QAAQ,CAARA,QAAQ,CAAEI,UAAU,CAAVA,UAAU,CAAC,CACvC,CAAC,CAED,cAAeX,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}