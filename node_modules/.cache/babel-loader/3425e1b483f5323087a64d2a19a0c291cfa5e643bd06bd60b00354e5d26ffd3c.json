{"ast":null,"code":"import _regeneratorRuntime from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";import useLoacalStorage from\"./useLocalStorage\";//@ts-ignore\nvar usePost=function usePost(apiPost){var url=\"http://144.24.209.19:9090/api/v1/\".concat(apiPost);var _useState=useState(),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useLoacalStorage=useLoacalStorage(),authorization=_useLoacalStorage.authorization;var postData=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataToPost,link){var settings,fetchResponse,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataToPost.authorization=authorization;settings={method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(dataToPost)};_context.prev=2;_context.next=5;return fetch(url,settings);case 5:fetchResponse=_context.sent;_context.next=8;return fetchResponse.json();case 8:data=_context.sent;setSuccess(data);return _context.abrupt(\"return\",data);case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[authorization,url]);var setRow=useCallback(function(row){postData(row,url);},[postData,url]);return{success:success,setRow:setRow};};export default usePost;","map":{"version":3,"names":["useState","useCallback","useLoacalStorage","usePost","apiPost","url","success","setSuccess","authorization","postData","dataToPost","link","settings","method","headers","Accept","body","JSON","stringify","fetch","fetchResponse","json","data","console","log","setRow","row"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/usePost.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport useLoacalStorage from \"./useLocalStorage\";\r\n\r\n//@ts-ignore\r\nconst usePost = (apiPost) => {\r\n\r\n    const url = `http://144.24.209.19:9090/api/v1/${apiPost}`\r\n    const [success, setSuccess] = useState()\r\n    const { authorization } = useLoacalStorage()\r\n    const postData = useCallback(async (dataToPost: any, link: string) => {\r\n        dataToPost.authorization = authorization\r\n        const settings = {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(dataToPost)\r\n        };\r\n        try {\r\n            const fetchResponse = await fetch(url, settings);\r\n            const data = await fetchResponse.json();\r\n            setSuccess(data)\r\n            return data\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }, [authorization, url])\r\n\r\n    const setRow = useCallback((row: any) => {\r\n        postData(row, url)\r\n    }, [postData, url])\r\n\r\n    return { success, setRow }\r\n}\r\n\r\nexport default usePost"],"mappings":"sZAAA,OAASA,QAAQ,CAAaC,WAAW,KAAQ,OAAO,CACxD,MAAOC,iBAAgB,KAAM,mBAAmB,CAEhD;AACA,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,OAAO,CAAK,CAEzB,GAAMC,IAAG,4CAAuCD,OAAO,CAAE,CACzD,cAA8BJ,QAAQ,EAAE,wCAAjCM,OAAO,eAAEC,UAAU,eAC1B,sBAA0BL,gBAAgB,EAAE,CAApCM,aAAa,mBAAbA,aAAa,CACrB,GAAMC,SAAQ,CAAGR,WAAW,4FAAC,iBAAOS,UAAe,CAAEC,IAAY,oJAC7DD,UAAU,CAACF,aAAa,CAAGA,aAAa,CAClCI,QAAQ,CAAG,CACbC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACLC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,UAAU,CACnC,CAAC,uCAE+BS,MAAK,CAACd,GAAG,CAAEO,QAAQ,CAAC,QAA1CQ,aAAa,qCACAA,cAAa,CAACC,IAAI,EAAE,QAAjCC,IAAI,eACVf,UAAU,CAACe,IAAI,CAAC,iCACTA,IAAI,4DAEXC,OAAO,CAACC,GAAG,aAAG,sEAErB,mEAAE,CAAChB,aAAa,CAAEH,GAAG,CAAC,CAAC,CAExB,GAAMoB,OAAM,CAAGxB,WAAW,CAAC,SAACyB,GAAQ,CAAK,CACrCjB,QAAQ,CAACiB,GAAG,CAAErB,GAAG,CAAC,CACtB,CAAC,CAAE,CAACI,QAAQ,CAAEJ,GAAG,CAAC,CAAC,CAEnB,MAAO,CAAEC,OAAO,CAAPA,OAAO,CAAEmB,MAAM,CAANA,MAAO,CAAC,CAC9B,CAAC,CAED,cAAetB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}