{"ast":null,"code":"import _regeneratorRuntime from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useCallback}from\"react\";//@ts-ignore\nvar usePost=function usePost(apiPost){var url=\"http://144.24.209.19:9090/api/v1/\".concat(apiPost);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),row=_useState4[0],setRow=_useState4[1];var postData=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataToPost,link){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(link,{method:\"POST\",headers:{\"Content-type\":\"application/json; charset=UTF-8\"},body:JSON.stringify(dataToPost)});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);useEffect(function(){// console.log(row)\n// console.log(apiPost)\nif(apiPost&&row){postData(row,url);}},[row,postData,url,success,apiPost]);return{success:success,setRow:setRow};};export default usePost;","map":{"version":3,"names":["useState","useEffect","useCallback","usePost","apiPost","url","success","setSuccess","row","setRow","postData","dataToPost","link","fetch","method","headers","body","JSON","stringify"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/usePost.ts"],"sourcesContent":["import React,{ useState, useEffect, useCallback } from \"react\";\r\n\r\n//@ts-ignore\r\nconst usePost = (apiPost) => {\r\n    const url = `http://144.24.209.19:9090/api/v1/${apiPost}`\r\n    const [success, setSuccess] = useState(false)\r\n    const [row, setRow] = useState<{}>()\r\n    const postData = useCallback(async (dataToPost: any, link: string) => {\r\n    await fetch(link, {\r\n            method: \"POST\",\r\n            headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n            body: JSON.stringify(dataToPost)\r\n        });\r\n    }, [])\r\n\r\nuseEffect(()=>{\r\n    // console.log(row)\r\n    // console.log(apiPost)\r\n    if(apiPost && row){\r\n    postData(row, url)\r\n    }\r\n}, [row, postData, url, success, apiPost])\r\n\r\n      return{success, setRow}\r\n}\r\n\r\nexport default usePost"],"mappings":"sZAAA,OAAeA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAE9D;AACA,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,OAAO,CAAK,CACzB,GAAMC,IAAG,4CAAuCD,OAAO,CAAE,CACzD,cAA8BJ,QAAQ,CAAC,KAAK,CAAC,wCAAtCM,OAAO,eAAEC,UAAU,eAC1B,eAAsBP,QAAQ,EAAM,yCAA7BQ,GAAG,eAAEC,MAAM,eAClB,GAAMC,SAAQ,CAAGR,WAAW,4FAAC,iBAAOS,UAAe,CAAEC,IAAY,0IAC3DC,MAAK,CAACD,IAAI,CAAE,CACVE,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,iCAAkC,CAAC,CAC9DC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,UAAU,CACnC,CAAC,CAAC,uDACL,mEAAE,EAAE,CAAC,CAEVV,SAAS,CAAC,UAAI,CACV;AACA;AACA,GAAGG,OAAO,EAAII,GAAG,CAAC,CAClBE,QAAQ,CAACF,GAAG,CAAEH,GAAG,CAAC,CAClB,CACJ,CAAC,CAAE,CAACG,GAAG,CAAEE,QAAQ,CAAEL,GAAG,CAAEC,OAAO,CAAEF,OAAO,CAAC,CAAC,CAEpC,MAAM,CAACE,OAAO,CAAPA,OAAO,CAAEG,MAAM,CAANA,MAAM,CAAC,CAC7B,CAAC,CAED,cAAeN,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}