{"ast":null,"code":"import{memo,useCallback,useEffect}from'react';import'./Style.css';import Button from'../../components/button/button';import InputText from'../../components/InputText/InputText';import useFormManager from'../../hooks/useFormManager';import usePost from'../../hooks/usePost';import useLoacalStorage from'../../hooks/useLocalStorage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SignInPage=function SignInPage(){var _usePost=usePost(\"user_log_in\"),setRow=_usePost.setRow,success=_usePost.success;var _useFormManager=useFormManager(),state=_useFormManager.state,onChange=_useFormManager.onChange;var _useLoacalStorage=useLoacalStorage(),authorization=_useLoacalStorage.authorization,changeLocalStorage=_useLoacalStorage.changeLocalStorage;if(success){changeLocalStorage([{name:\"salam\",//@ts-ignore\ndata:{authorization:success.authorization,display_name:success.display_name}}]);}useEffect(function(){if(authorization){window.location.assign(\"/home\");}},[authorization]);//@ts-ignore\nif(success&&success.response===\"success\"){window.location.assign(\"/home\");}var handleLogIn=useCallback(function(){setRow(state);},[setRow,state]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"sign_in\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome \"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please Log In\"}),/*#__PURE__*/_jsx(InputText,{name:\"user_name\",Label:\"User Name\",onChange:onChange}),/*#__PURE__*/_jsx(InputText,{name:\"user_password\",Label:\"Password\",onChange:onChange,type:\"password\"}),/*#__PURE__*/_jsx(Button,{label:\"Log In\",onClick:handleLogIn})]})})})});};export default/*#__PURE__*/memo(SignInPage);","map":{"version":3,"names":["memo","useCallback","useEffect","Button","InputText","useFormManager","usePost","useLoacalStorage","SignInPage","setRow","success","state","onChange","authorization","changeLocalStorage","name","data","display_name","window","location","assign","response","handleLogIn"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/Pages/SignInPage/component.tsx"],"sourcesContent":["import { memo, useCallback, useEffect } from 'react';\r\nimport './Style.css';\r\nimport Button from '../../components/button/button';\r\nimport InputText from '../../components/InputText/InputText';\r\nimport useFormManager from '../../hooks/useFormManager';\r\nimport usePost from '../../hooks/usePost';\r\nimport useLoacalStorage from '../../hooks/useLocalStorage';\r\n\r\nconst SignInPage = () => {\r\n\r\n    const { setRow, success } = usePost(\"user_log_in\")\r\n    const { state, onChange } = useFormManager()\r\n    const { authorization, changeLocalStorage } = useLoacalStorage()\r\n\r\n    if (success) {\r\n        changeLocalStorage([\r\n            {\r\n                name: \"salam\",\r\n                //@ts-ignore\r\n                data: { authorization: success.authorization, display_name: success.display_name }\r\n            }\r\n        ])\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (authorization) {\r\n            window.location.assign(\"/home\")\r\n        }\r\n    }, [authorization])\r\n\r\n    //@ts-ignore\r\n    if (success && success.response === \"success\") {\r\n        window.location.assign(\"/home\")\r\n    }\r\n\r\n    const handleLogIn = useCallback(() => {\r\n        setRow(state)\r\n\r\n    }, [setRow, state])\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"sign_in\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-body\">\r\n                        <h1>Welcome </h1>\r\n                        <p>Please Log In</p>\r\n                        <InputText\r\n                            name='user_name'\r\n                            Label='User Name'\r\n                            onChange={onChange}\r\n                        />\r\n                        <InputText\r\n                            name='user_password'\r\n                            Label='Password'\r\n                            onChange={onChange}\r\n                            type=\"password\"\r\n                        />\r\n                        <Button\r\n                            label='Log In'\r\n                            onClick={handleLogIn}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default memo(SignInPage);\r\n"],"mappings":"AAAA,OAASA,IAAI,CAAEC,WAAW,CAAEC,SAAS,KAAQ,OAAO,CACpD,MAAO,aAAa,CACpB,MAAOC,OAAM,KAAM,gCAAgC,CACnD,MAAOC,UAAS,KAAM,sCAAsC,CAC5D,MAAOC,eAAc,KAAM,4BAA4B,CACvD,MAAOC,QAAO,KAAM,qBAAqB,CACzC,MAAOC,iBAAgB,KAAM,6BAA6B,CAAC,6IAE3D,GAAMC,WAAU,CAAG,QAAbA,WAAU,EAAS,CAErB,aAA4BF,OAAO,CAAC,aAAa,CAAC,CAA1CG,MAAM,UAANA,MAAM,CAAEC,OAAO,UAAPA,OAAO,CACvB,oBAA4BL,cAAc,EAAE,CAApCM,KAAK,iBAALA,KAAK,CAAEC,QAAQ,iBAARA,QAAQ,CACvB,sBAA8CL,gBAAgB,EAAE,CAAxDM,aAAa,mBAAbA,aAAa,CAAEC,kBAAkB,mBAAlBA,kBAAkB,CAEzC,GAAIJ,OAAO,CAAE,CACTI,kBAAkB,CAAC,CACf,CACIC,IAAI,CAAE,OAAO,CACb;AACAC,IAAI,CAAE,CAAEH,aAAa,CAAEH,OAAO,CAACG,aAAa,CAAEI,YAAY,CAAEP,OAAO,CAACO,YAAa,CACrF,CAAC,CACJ,CAAC,CACN,CAEAf,SAAS,CAAC,UAAM,CACZ,GAAIW,aAAa,CAAE,CACfK,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,OAAO,CAAC,CACnC,CACJ,CAAC,CAAE,CAACP,aAAa,CAAC,CAAC,CAEnB;AACA,GAAIH,OAAO,EAAIA,OAAO,CAACW,QAAQ,GAAK,SAAS,CAAE,CAC3CH,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,OAAO,CAAC,CACnC,CAEA,GAAME,YAAW,CAAGrB,WAAW,CAAC,UAAM,CAClCQ,MAAM,CAACE,KAAK,CAAC,CAEjB,CAAC,CAAE,CAACF,MAAM,CAAEE,KAAK,CAAC,CAAC,CAKnB,mBACI,sCACI,YAAK,SAAS,CAAC,SAAS,uBACpB,YAAK,SAAS,CAAC,MAAM,uBACjB,aAAK,SAAS,CAAC,WAAW,wBACtB,gCAAiB,cACjB,oCAAoB,cACpB,KAAC,SAAS,EACN,IAAI,CAAC,WAAW,CAChB,KAAK,CAAC,WAAW,CACjB,QAAQ,CAAEC,QAAS,EACrB,cACF,KAAC,SAAS,EACN,IAAI,CAAC,eAAe,CACpB,KAAK,CAAC,UAAU,CAChB,QAAQ,CAAEA,QAAS,CACnB,IAAI,CAAC,UAAU,EACjB,cACF,KAAC,MAAM,EACH,KAAK,CAAC,QAAQ,CACd,OAAO,CAAEU,WAAY,EACvB,GACA,EACJ,EACJ,EACP,CAEX,CAAC,CAED,2BAAetB,IAAI,CAACQ,UAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}