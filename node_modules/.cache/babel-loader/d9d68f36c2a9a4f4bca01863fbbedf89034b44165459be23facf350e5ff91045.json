{"ast":null,"code":"import _slicedToArray from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useCallback}from\"react\";var useCheckUser=function useCheckUser(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),hidden=_useState4[0],setHidden=_useState4[1];var _useState5=useState({\"basicData\":{\"hidden\":false,\"customers\":false,\"suppliers\":false,\"items\":false},\"invoices\":{\"supplierInvoices\":false,\"customerInvoices\":false,\"invoicesSearch\":false,\"hidden\":false},\"employees\":{\"employeeAttendance\":false,\"employeeLeaving\":false,\"employeeSalary\":false,\"employeeData\":false,\"hidden\":false},\"accountSummary\":{\"customersSummary\":false,\"suppliersSummary\":false,\"itemsSummary\":false,\"hidden\":false},\"accountTotals\":{\"dailyTotals\":false,\"monthlyTotals\":false,\"yearlyTotals\":false,\"expensesTotals\":false,\"hidden\":false},\"administration\":{\"users\":false,\"hidden\":false}}),_useState6=_slicedToArray(_useState5,2),role=_useState6[0],setRole=_useState6[1];useEffect(useCallback(function(){if(window.localStorage.getItem('user')!==null){//@ts-ignore\nsetUser(\"Current user is \".concat(JSON.parse(localStorage.getItem('user')).username));//@ts-ignore\nsetRole(JSON.parse(localStorage.getItem('user')).role);setHidden(false);}else{setUser(\"You are not logged in\");}},[]),[]);return{user:user,hidden:hidden,role:role};};export default useCheckUser;","map":{"version":3,"names":["useState","useEffect","useCallback","useCheckUser","user","setUser","hidden","setHidden","role","setRole","window","localStorage","getItem","JSON","parse","username"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/useCheckUser.ts"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\ninterface role{\r\n  \"basicData\":{\r\n                    \"hidden\":boolean;\r\n                    \"customers\":boolean;\r\n                    \"suppliers\":boolean;\r\n                    \"items\":boolean\r\n                },\r\n                \"invoices\":{\r\n                    \"supplierInvoices\":boolean;\r\n                    \"customerInvoices\":boolean;\r\n                    \"invoicesSearch\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"employees\":{\r\n                    \"employeeAttendance\":boolean;\r\n                    \"employeeLeaving\":boolean;\r\n                    \"employeeSalary\":boolean;\r\n                    \"employeeData\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"accountSummary\":{\r\n                    \"customersSummary\":boolean;\r\n                    \"suppliersSummary\":boolean;\r\n                    \"itemsSummary\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"accountTotals\":{\r\n                    \"dailyTotals\":boolean;\r\n                    \"monthlyTotals\":boolean;\r\n                    \"yearlyTotals\":boolean;\r\n                    \"expensesTotals\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"administration\":{\r\n                    \"users\":boolean;\r\n                    \"hidden\":boolean\r\n                }\r\n}\r\n\r\nconst useCheckUser = () => {\r\n    const [user, setUser] = useState(\"\");\r\n    const [hidden, setHidden] = useState(true);\r\n    const [role, setRole] = useState<role>(\r\n      {\r\n                \"basicData\":{\r\n                    \"hidden\":false,\r\n                    \"customers\":false,\r\n                    \"suppliers\":false,\r\n                    \"items\":false\r\n                },\r\n                \"invoices\":{\r\n                    \"supplierInvoices\":false,\r\n                    \"customerInvoices\":false,\r\n                    \"invoicesSearch\":false,\r\n                    \"hidden\":false\r\n                },\r\n                \"employees\":{\r\n                    \"employeeAttendance\":false,\r\n                    \"employeeLeaving\":false,\r\n                    \"employeeSalary\":false,\r\n                    \"employeeData\":false,\r\n                    \"hidden\":false\r\n                },\r\n                \"accountSummary\":{\r\n                    \"customersSummary\":false,\r\n                    \"suppliersSummary\":false,\r\n                    \"itemsSummary\":false,\r\n                    \"hidden\":false\r\n                },\r\n                \"accountTotals\":{\r\n                    \"dailyTotals\":false,\r\n                    \"monthlyTotals\":false,\r\n                    \"yearlyTotals\":false,\r\n                    \"expensesTotals\":false,\r\n                    \"hidden\":false\r\n                },\r\n                \"administration\":{\r\n                    \"users\":false,\r\n                    \"hidden\":false\r\n                }\r\n            }\r\n    )\r\n    \r\n\r\n\r\n    useEffect(\r\n       useCallback(()=>{\r\n         if (window.localStorage.getItem('user') !== null) {\r\n            //@ts-ignore\r\n            setUser(`Current user is ${JSON.parse(localStorage.getItem('user')).username}`)\r\n            //@ts-ignore\r\n            setRole(JSON.parse(localStorage.getItem('user')).role)\r\n            setHidden(false)\r\n        }else{\r\n            setUser(\"You are not logged in\")\r\n        }\r\n       },[])\r\n    ,[])\r\n\r\n      return{user, hidden, role}\r\n}\r\n\r\nexport default useCheckUser"],"mappings":"kIAAA,OAAgBA,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAyC/D,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB,cAAwBH,QAAQ,CAAC,EAAE,CAAC,wCAA7BI,IAAI,eAAEC,OAAO,eACpB,eAA4BL,QAAQ,CAAC,IAAI,CAAC,yCAAnCM,MAAM,eAAEC,SAAS,eACxB,eAAwBP,QAAQ,CAC9B,CACU,WAAW,CAAC,CACR,QAAQ,CAAC,KAAK,CACd,WAAW,CAAC,KAAK,CACjB,WAAW,CAAC,KAAK,CACjB,OAAO,CAAC,KACZ,CAAC,CACD,UAAU,CAAC,CACP,kBAAkB,CAAC,KAAK,CACxB,kBAAkB,CAAC,KAAK,CACxB,gBAAgB,CAAC,KAAK,CACtB,QAAQ,CAAC,KACb,CAAC,CACD,WAAW,CAAC,CACR,oBAAoB,CAAC,KAAK,CAC1B,iBAAiB,CAAC,KAAK,CACvB,gBAAgB,CAAC,KAAK,CACtB,cAAc,CAAC,KAAK,CACpB,QAAQ,CAAC,KACb,CAAC,CACD,gBAAgB,CAAC,CACb,kBAAkB,CAAC,KAAK,CACxB,kBAAkB,CAAC,KAAK,CACxB,cAAc,CAAC,KAAK,CACpB,QAAQ,CAAC,KACb,CAAC,CACD,eAAe,CAAC,CACZ,aAAa,CAAC,KAAK,CACnB,eAAe,CAAC,KAAK,CACrB,cAAc,CAAC,KAAK,CACpB,gBAAgB,CAAC,KAAK,CACtB,QAAQ,CAAC,KACb,CAAC,CACD,gBAAgB,CAAC,CACb,OAAO,CAAC,KAAK,CACb,QAAQ,CAAC,KACb,CACJ,CAAC,CACR,yCAvCMQ,IAAI,eAAEC,OAAO,eA2CpBR,SAAS,CACNC,WAAW,CAAC,UAAI,CACd,GAAIQ,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,GAAK,IAAI,CAAE,CAC/C;AACAP,OAAO,2BAAoBQ,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACG,QAAQ,EAAG,CAC/E;AACAN,OAAO,CAACI,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACJ,IAAI,CAAC,CACtDD,SAAS,CAAC,KAAK,CAAC,CACpB,CAAC,IAAI,CACDF,OAAO,CAAC,uBAAuB,CAAC,CACpC,CACD,CAAC,CAAC,EAAE,CAAC,CACP,EAAE,CAAC,CAEF,MAAM,CAACD,IAAI,CAAJA,IAAI,CAAEE,MAAM,CAANA,MAAM,CAAEE,IAAI,CAAJA,IAAI,CAAC,CAChC,CAAC,CAED,cAAeL,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}