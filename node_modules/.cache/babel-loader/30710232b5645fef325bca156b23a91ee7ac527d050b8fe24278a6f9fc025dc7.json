{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nconst useCheckUser = () => {\n  _s();\n  const [user, setUser] = useState(\"\");\n  const [hidden, setHidden] = useState(true);\n  const [role, setRole] = useState({\n    \"basicData\": {\n      \"hidden\": true,\n      \"customers\": true,\n      \"suppliers\": true,\n      \"items\": true\n    },\n    \"invoices\": {\n      \"supplierInvoices\": true,\n      \"customerInvoices\": true,\n      \"invoicesSearch\": true,\n      \"hidden\": true\n    },\n    \"employees\": {\n      \"employeeAttendance\": true,\n      \"employeeLeaving\": true,\n      \"employeeSalary\": true,\n      \"employeeData\": true,\n      \"hidden\": true\n    },\n    \"accountSummary\": {\n      \"customersSummary\": true,\n      \"suppliersSummary\": true,\n      \"itemsSummary\": true,\n      \"hidden\": true\n    },\n    \"accountTotals\": {\n      \"dailyTotals\": true,\n      \"monthlyTotals\": true,\n      \"yearlyTotals\": true,\n      \"expensesTotals\": true,\n      \"hidden\": true\n    },\n    \"administration\": {\n      \"users\": true,\n      \"hidden\": true\n    }\n  });\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(useCallback(() => {\n    if (window.localStorage.getItem('user') !== null) {\n      //@ts-ignore\n      setUser(`Current user is ${JSON.parse(localStorage.getItem('user')).username}`);\n      //@ts-ignore\n      setRole(JSON.parse(localStorage.getItem('user')).role);\n      setHidden(false);\n    } else {\n      setUser(\"You are not logged in\");\n    }\n  }, []), []);\n  return {\n    user,\n    hidden,\n    role\n  };\n};\n_s(useCheckUser, \"z9yOnLPrX/VBLBMzTKRzo5CUQUQ=\");\nexport default useCheckUser;","map":{"version":3,"names":["useState","useEffect","useCallback","useCheckUser","user","setUser","hidden","setHidden","role","setRole","window","localStorage","getItem","JSON","parse","username"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/src/hooks/useCheckUser.ts"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\ninterface role{\r\n  \"basicData\":{\r\n                    \"hidden\":boolean;\r\n                    \"customers\":boolean;\r\n                    \"suppliers\":boolean;\r\n                    \"items\":boolean\r\n                },\r\n                \"invoices\":{\r\n                    \"supplierInvoices\":boolean;\r\n                    \"customerInvoices\":boolean;\r\n                    \"invoicesSearch\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"employees\":{\r\n                    \"employeeAttendance\":boolean;\r\n                    \"employeeLeaving\":boolean;\r\n                    \"employeeSalary\":boolean;\r\n                    \"employeeData\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"accountSummary\":{\r\n                    \"customersSummary\":boolean;\r\n                    \"suppliersSummary\":boolean;\r\n                    \"itemsSummary\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"accountTotals\":{\r\n                    \"dailyTotals\":boolean;\r\n                    \"monthlyTotals\":boolean;\r\n                    \"yearlyTotals\":boolean;\r\n                    \"expensesTotals\":boolean;\r\n                    \"hidden\":boolean\r\n                },\r\n                \"administration\":{\r\n                    \"users\":boolean;\r\n                    \"hidden\":boolean\r\n                }\r\n}\r\n\r\nconst useCheckUser = () => {\r\n    const [user, setUser] = useState(\"\");\r\n    const [hidden, setHidden] = useState(true);\r\n    const [role, setRole] = useState<role>(\r\n      {\r\n                \"basicData\":{\r\n                    \"hidden\":true,\r\n                    \"customers\":true,\r\n                    \"suppliers\":true,\r\n                    \"items\":true\r\n                },\r\n                \"invoices\":{\r\n                    \"supplierInvoices\":true,\r\n                    \"customerInvoices\":true,\r\n                    \"invoicesSearch\":true,\r\n                    \"hidden\":true\r\n                },\r\n                \"employees\":{\r\n                    \"employeeAttendance\":true,\r\n                    \"employeeLeaving\":true,\r\n                    \"employeeSalary\":true,\r\n                    \"employeeData\":true,\r\n                    \"hidden\":true\r\n                },\r\n                \"accountSummary\":{\r\n                    \"customersSummary\":true,\r\n                    \"suppliersSummary\":true,\r\n                    \"itemsSummary\":true,\r\n                    \"hidden\":true\r\n                },\r\n                \"accountTotals\":{\r\n                    \"dailyTotals\":true,\r\n                    \"monthlyTotals\":true,\r\n                    \"yearlyTotals\":true,\r\n                    \"expensesTotals\":true,\r\n                    \"hidden\":true\r\n                },\r\n                \"administration\":{\r\n                    \"users\":true,\r\n                    \"hidden\":true\r\n                }\r\n            }\r\n    )\r\n    \r\n\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(\r\n       useCallback(()=>{\r\n         if (window.localStorage.getItem('user') !== null) {\r\n            //@ts-ignore\r\n            setUser(`Current user is ${JSON.parse(localStorage.getItem('user')).username}`)\r\n            //@ts-ignore\r\n            setRole(JSON.parse(localStorage.getItem('user')).role)\r\n            setHidden(false)\r\n        }else{\r\n            setUser(\"You are not logged in\")\r\n        }\r\n       },[])\r\n    ,[])\r\n\r\n      return{user, hidden, role}\r\n}\r\n\r\nexport default useCheckUser"],"mappings":";AAAA,SAAgBA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAyC/D,MAAMC,YAAY,GAAG,MAAM;EAAA;EACvB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAC9B;IACU,WAAW,EAAC;MACR,QAAQ,EAAC,IAAI;MACb,WAAW,EAAC,IAAI;MAChB,WAAW,EAAC,IAAI;MAChB,OAAO,EAAC;IACZ,CAAC;IACD,UAAU,EAAC;MACP,kBAAkB,EAAC,IAAI;MACvB,kBAAkB,EAAC,IAAI;MACvB,gBAAgB,EAAC,IAAI;MACrB,QAAQ,EAAC;IACb,CAAC;IACD,WAAW,EAAC;MACR,oBAAoB,EAAC,IAAI;MACzB,iBAAiB,EAAC,IAAI;MACtB,gBAAgB,EAAC,IAAI;MACrB,cAAc,EAAC,IAAI;MACnB,QAAQ,EAAC;IACb,CAAC;IACD,gBAAgB,EAAC;MACb,kBAAkB,EAAC,IAAI;MACvB,kBAAkB,EAAC,IAAI;MACvB,cAAc,EAAC,IAAI;MACnB,QAAQ,EAAC;IACb,CAAC;IACD,eAAe,EAAC;MACZ,aAAa,EAAC,IAAI;MAClB,eAAe,EAAC,IAAI;MACpB,cAAc,EAAC,IAAI;MACnB,gBAAgB,EAAC,IAAI;MACrB,QAAQ,EAAC;IACb,CAAC;IACD,gBAAgB,EAAC;MACb,OAAO,EAAC,IAAI;MACZ,QAAQ,EAAC;IACb;EACJ,CAAC,CACR;;EAID;EACAC,SAAS,CACNC,WAAW,CAAC,MAAI;IACd,IAAIQ,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,KAAK,IAAI,EAAE;MAC/C;MACAP,OAAO,CAAE,mBAAkBQ,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACG,QAAS,EAAC,CAAC;MAC/E;MACAN,OAAO,CAACI,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACJ,IAAI,CAAC;MACtDD,SAAS,CAAC,KAAK,CAAC;IACpB,CAAC,MAAI;MACDF,OAAO,CAAC,uBAAuB,CAAC;IACpC;EACD,CAAC,EAAC,EAAE,CAAC,EACP,EAAE,CAAC;EAEF,OAAM;IAACD,IAAI;IAAEE,MAAM;IAAEE;EAAI,CAAC;AAChC,CAAC;AAAA,GA9DKL,YAAY;AAgElB,eAAeA,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}