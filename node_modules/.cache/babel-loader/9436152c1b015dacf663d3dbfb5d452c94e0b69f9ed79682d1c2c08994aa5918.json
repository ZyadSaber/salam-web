{"ast":null,"code":"import _defineProperty from\"/home/zyad/Documents/active_projects/SalamApp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/zyad/Documents/active_projects/SalamApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{memo,useCallback,useEffect}from\"react\";import SelectWithApi from\"../../../components/Select/SelectWithApi\";import InputText from\"../../../components/InputText/InputText\";import Flex from\"../../../components/Flex/Flex\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InsertForm=function InsertForm(_ref){var activeItem=_ref.activeItem,setActiveItem=_ref.setActiveItem,itemChange=_ref.itemChange,itemState=_ref.itemState,state=_ref.state,onChange=_ref.onChange;var item_id=itemState.item_id,width=itemState.width,height=itemState.height,size=itemState.size,quantity=itemState.quantity,price=itemState.price,total=itemState.total,notes=itemState.notes,print_id=itemState.print_id;useEffect(function(){setActiveItem(_objectSpread(_objectSpread({},activeItem),{},{size:+width*+height,total:+quantity*+price*+width*+height}));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[height,width,quantity,price]);var handleItemChange=useCallback(function(onChange){//@ts-ignore\nsetActiveItem(_objectSpread(_objectSpread({},activeItem),{},_defineProperty({itemName:onChange.label},onChange.name,onChange.value)));},[activeItem,setActiveItem]);var handlePrintChange=useCallback(function(onChange){//@ts-ignore\nsetActiveItem(_objectSpread(_objectSpread({},activeItem),{},_defineProperty({print_name:onChange.label},onChange.name,onChange.value)));},[activeItem,setActiveItem]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Flex,{width:\"100%\",flexDirection:\"column\",margin:\"0\",padding:\"0\",children:[/*#__PURE__*/_jsxs(Flex,{margin:\"0\",padding:\"0\",children:[/*#__PURE__*/_jsx(SelectWithApi,{Api:\"basicData/customer_pop_data\",onChange:onChange,value:state.customer_id,Label:\"cstmr\",name:\"customer_id\",fetchOnFirstRun:true}),/*#__PURE__*/_jsx(InputText,{name:\"date\",value:state.date,Label:\"dt\",onChange:onChange,type:\"date\"})]}),/*#__PURE__*/_jsxs(Flex,{margin:\"0\",padding:\"0\",children:[/*#__PURE__*/_jsx(SelectWithApi,{Api:\"basicData/print_options_pop_data\",onChange:handlePrintChange,value:print_id,Label:\"prntnm\",name:\"print_id\",withLabel:true,fetchOnFirstRun:true}),/*#__PURE__*/_jsx(SelectWithApi,{Api:\"basicData/items_pop_data\",onChange:handleItemChange,value:item_id,Label:\"itmnm\",name:\"item_id\",withLabel:true,fetchOnFirstRun:true})]}),/*#__PURE__*/_jsxs(Flex,{margin:\"0\",padding:\"0\",children:[/*#__PURE__*/_jsx(InputText,{name:\"width\",value:width,Label:\"wdth\",onChange:itemChange,width:\"14%\"}),/*#__PURE__*/_jsx(InputText,{name:\"height\",value:height,Label:\"hght\",onChange:itemChange,width:\"14%\"}),/*#__PURE__*/_jsx(InputText,{name:\"size\",value:size,Label:\"sz\",onChange:itemChange,disabled:true,width:\"14%\"}),/*#__PURE__*/_jsx(InputText,{name:\"quantity\",value:quantity,Label:\"qnty\",onChange:itemChange,width:\"14%\"}),/*#__PURE__*/_jsx(InputText,{name:\"price\",value:price,Label:\"prc\",onChange:itemChange,width:\"14%\"}),/*#__PURE__*/_jsx(InputText,{name:\"total\",value:total,Label:\"total\",onChange:itemChange,disabled:true,width:\"14%\"}),/*#__PURE__*/_jsx(InputText,{name:\"notes\",value:notes,Label:\"nts\",onChange:itemChange,width:\"14%\"})]})]})});};export default/*#__PURE__*/memo(InsertForm);","map":{"version":3,"names":["memo","useCallback","useEffect","SelectWithApi","InputText","Flex","InsertForm","activeItem","setActiveItem","itemChange","itemState","state","onChange","item_id","width","height","size","quantity","price","total","notes","print_id","handleItemChange","itemName","label","name","value","handlePrintChange","print_name","customer_id","date"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/Pages/CustomerInvoices/Partials/InsertForm.tsx"],"sourcesContent":["import { memo, useCallback, useEffect } from \"react\";\nimport SelectWithApi from \"../../../components/Select/SelectWithApi\";\nimport InputText from \"../../../components/InputText/InputText\";\nimport Flex from \"../../../components/Flex/Flex\";\n\ninterface InsertFormProp {\n    activeItem: any;\n    setActiveItem: any;\n    itemState: any;\n    itemChange: any;\n    state: any;\n    onChange: any\n}\n\nconst InsertForm = ({\n    activeItem,\n    setActiveItem,\n    itemChange,\n    itemState,\n    state,\n    onChange\n}: InsertFormProp) => {\n\n    const { item_id, width, height, size, quantity, price, total, notes, print_id } = itemState\n\n    useEffect(() => {\n        setActiveItem({ ...activeItem, size: +width * +height, total: +quantity * +price * +width * +height })\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [height, width, quantity, price])\n\n    const handleItemChange = useCallback((onChange: any) => {\n        //@ts-ignore\n        setActiveItem({ ...activeItem, itemName: onChange.label, [onChange.name]: onChange.value })\n    }, [activeItem, setActiveItem])\n    const handlePrintChange = useCallback((onChange: any) => {\n        //@ts-ignore\n        setActiveItem({ ...activeItem, print_name: onChange.label, [onChange.name]: onChange.value })\n    }, [activeItem, setActiveItem])\n\n    return (\n        <>\n            <Flex width=\"100%\" flexDirection=\"column\" margin=\"0\" padding=\"0\">\n                <Flex margin=\"0\" padding=\"0\">\n                    <SelectWithApi\n                        Api={\"basicData/customer_pop_data\"}\n                        onChange={onChange}\n                        value={state.customer_id}\n                        Label=\"cstmr\"\n                        name=\"customer_id\"\n                        fetchOnFirstRun\n                    />\n                    <InputText\n                        name=\"date\"\n                        value={state.date}\n                        Label=\"dt\"\n                        onChange={onChange}\n                        type=\"date\"\n                    />\n                </Flex>\n                <Flex margin=\"0\" padding=\"0\">\n                    <SelectWithApi\n                        Api={\"basicData/print_options_pop_data\"}\n                        onChange={handlePrintChange}\n                        value={print_id}\n                        Label=\"prntnm\"\n                        name=\"print_id\"\n                        withLabel\n                        fetchOnFirstRun\n                    />\n                    <SelectWithApi\n                        Api={\"basicData/items_pop_data\"}\n                        onChange={handleItemChange}\n                        value={item_id}\n                        Label=\"itmnm\"\n                        name=\"item_id\"\n                        withLabel\n                        fetchOnFirstRun\n                    />\n                </Flex>\n                <Flex margin=\"0\" padding=\"0\">\n                    <InputText\n                        name=\"width\"\n                        value={width}\n                        Label=\"wdth\"\n                        onChange={itemChange}\n                        width=\"14%\"\n                    />\n                    <InputText\n                        name=\"height\"\n                        value={height}\n                        Label=\"hght\"\n                        onChange={itemChange}\n                        width=\"14%\"\n                    />\n                    <InputText\n                        name=\"size\"\n                        value={size}\n                        Label=\"sz\"\n                        onChange={itemChange}\n                        disabled\n                        width=\"14%\"\n                    />\n                    <InputText\n                        name=\"quantity\"\n                        value={quantity}\n                        Label=\"qnty\"\n                        onChange={itemChange}\n                        width=\"14%\"\n                    />\n                    <InputText\n                        name=\"price\"\n                        value={price}\n                        Label=\"prc\"\n                        onChange={itemChange}\n                        width=\"14%\"\n                    />\n                    <InputText\n                        name=\"total\"\n                        value={total}\n                        Label=\"total\"\n                        onChange={itemChange}\n                        disabled\n                        width=\"14%\"\n                    />\n                    <InputText\n                        name=\"notes\"\n                        value={notes}\n                        Label=\"nts\"\n                        onChange={itemChange}\n                        width=\"14%\"\n                    />\n                </Flex>\n            </Flex>\n        </>\n    )\n}\n\nexport default memo(InsertForm)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}