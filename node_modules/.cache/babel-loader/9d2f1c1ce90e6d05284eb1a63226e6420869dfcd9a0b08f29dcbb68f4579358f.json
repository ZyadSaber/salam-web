{"ast":null,"code":"import _defineProperty from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{memo,useCallback,useEffect}from\"react\";import SelectWithApi from\"../../../components/Select/SelectWithApi\";import InputText from\"../../../components/InputText/InputText\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InsertForm=function InsertForm(_ref){var activeItem=_ref.activeItem,setActiveItem=_ref.setActiveItem,itemChange=_ref.itemChange,itemState=_ref.itemState,state=_ref.state,onChange=_ref.onChange;var item_id=itemState.item_id,width=itemState.width,height=itemState.height,size=itemState.size,quantity=itemState.quantity,price=itemState.price,total=itemState.total,notes=itemState.notes;useEffect(function(){setActiveItem(_objectSpread(_objectSpread({},activeItem),{},{size:+width*+height,total:+quantity*+price*+width*+height}));// eslint-disable-next-line react-hooks/exhaustive-deps\n},[height,width,quantity,price]);var handleItemChange=useCallback(function(onChange){//@ts-ignore\nsetActiveItem(_objectSpread(_objectSpread({},activeItem),{},_defineProperty({itemName:onChange.label},onChange.name,onChange.value)));},[activeItem,setActiveItem]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"row\",width:\"100%\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:\"20px\"},children:/*#__PURE__*/_jsx(SelectWithApi,{Api:\"basicData/supplier_pop_data\",onChange:onChange,value:state.supplier_id,Label:\"Supplier\",name:\"supplier_id\",fetchOnFirstRun:true})}),/*#__PURE__*/_jsx(InputText,{name:\"date\",value:state.date,Label:\"dt\",onChange:onChange,type:\"date\"})]}),/*#__PURE__*/_jsx(SelectWithApi,{Api:\"basicData/items_pop_data\",onChange:handleItemChange,value:item_id,Label:\"Item\",name:\"item_id\",withLabel:true,fetchOnFirstRun:true}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"100%\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(InputText,{name:\"width\",value:width,Label:\"width\",onChange:itemChange,width:\"90%\"}),/*#__PURE__*/_jsx(InputText,{name:\"height\",value:height,Label:\"height\",onChange:itemChange,width:\"90%\"}),/*#__PURE__*/_jsx(InputText,{name:\"size\",value:size,Label:\"size\",onChange:itemChange,disabled:true,width:\"90%\"}),/*#__PURE__*/_jsx(InputText,{name:\"quantity\",value:quantity,Label:\"quantity\",onChange:itemChange,width:\"90%\"}),/*#__PURE__*/_jsx(InputText,{name:\"price\",value:price,Label:\"price\",onChange:itemChange,width:\"90%\"}),/*#__PURE__*/_jsx(InputText,{name:\"total\",value:total,Label:\"total\",onChange:itemChange,disabled:true,width:\"90%\"}),/*#__PURE__*/_jsx(InputText,{name:\"notes\",value:notes,Label:\"notes\",onChange:itemChange,width:\"90%\"})]})]});};export default/*#__PURE__*/memo(InsertForm);","map":{"version":3,"names":["memo","useCallback","useEffect","SelectWithApi","InputText","InsertForm","activeItem","setActiveItem","itemChange","itemState","state","onChange","item_id","width","height","size","quantity","price","total","notes","handleItemChange","itemName","label","name","value","display","flexDirection","marginRight","supplier_id","date","justifyContent"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/Pages/SupplierInvoice/Partials/InsertForm.tsx"],"sourcesContent":["import { memo, useCallback, useEffect } from \"react\";\nimport SelectWithApi from \"../../../components/Select/SelectWithApi\";\nimport InputText from \"../../../components/InputText/InputText\";\n\ninterface InsertFormProp {\n    activeItem: any;\n    setActiveItem: any;\n    itemState: any;\n    itemChange: any;\n    state: any;\n    onChange: any\n}\n\nconst InsertForm = ({\n    activeItem,\n    setActiveItem,\n    itemChange,\n    itemState,\n    state,\n    onChange\n}: InsertFormProp) => {\n\n    const { item_id, width, height, size, quantity, price, total, notes } = itemState\n\n    useEffect(() => {\n        setActiveItem({ ...activeItem, size: +width * +height, total: +quantity * +price * +width * +height })\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [height, width, quantity, price])\n\n    const handleItemChange = useCallback((onChange: any) => {\n        //@ts-ignore\n        setActiveItem({ ...activeItem, itemName: onChange.label, [onChange.name]: onChange.value })\n    }, [activeItem, setActiveItem])\n\n    return (\n        <>\n            <div style={{ display: \"flex\", flexDirection: \"row\", width: \"100%\" }}>\n                <div style={{ marginRight: \"20px\" }}>\n                    <SelectWithApi\n                        Api={\"basicData/supplier_pop_data\"}\n                        onChange={onChange}\n                        value={state.supplier_id}\n                        Label=\"Supplier\"\n                        name=\"supplier_id\"\n                        fetchOnFirstRun\n                    />\n                </div>\n                <InputText\n                    name=\"date\"\n                    value={state.date}\n                    Label=\"dt\"\n                    onChange={onChange}\n                    type=\"date\"\n                />\n            </div>\n            <SelectWithApi\n                Api={\"basicData/items_pop_data\"}\n                onChange={handleItemChange}\n                value={item_id}\n                Label=\"Item\"\n                name=\"item_id\"\n                withLabel\n                fetchOnFirstRun\n            />\n            <div style={{ display: \"flex\", width: \"100%\", justifyContent: \"space-between\" }}>\n\n                <InputText\n                    name=\"width\"\n                    value={width}\n                    Label=\"width\"\n                    onChange={itemChange}\n                    width=\"90%\"\n                />\n                <InputText\n                    name=\"height\"\n                    value={height}\n                    Label=\"height\"\n                    onChange={itemChange}\n                    width=\"90%\"\n                />\n                <InputText\n                    name=\"size\"\n                    value={size}\n                    Label=\"size\"\n                    onChange={itemChange}\n                    disabled\n                    width=\"90%\"\n                />\n                <InputText\n                    name=\"quantity\"\n                    value={quantity}\n                    Label=\"quantity\"\n                    onChange={itemChange}\n                    width=\"90%\"\n                />\n                <InputText\n                    name=\"price\"\n                    value={price}\n                    Label=\"price\"\n                    onChange={itemChange}\n                    width=\"90%\"\n                />\n                <InputText\n                    name=\"total\"\n                    value={total}\n                    Label=\"total\"\n                    onChange={itemChange}\n                    disabled\n                    width=\"90%\"\n                />\n                <InputText\n                    name=\"notes\"\n                    value={notes}\n                    Label=\"notes\"\n                    onChange={itemChange}\n                    width=\"90%\"\n                />\n            </div>\n        </>\n    )\n}\n\nexport default memo(InsertForm)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}