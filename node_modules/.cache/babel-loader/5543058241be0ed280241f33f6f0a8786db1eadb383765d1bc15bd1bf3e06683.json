{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nimport useLoacalStorage from \"./useLocalStorage\";\n\n//@ts-ignore\nconst usePost = apiPost => {\n  _s();\n  const url = `http://144.24.209.19:9090/api/v1/${apiPost}`;\n  const [success, setSuccess] = useState();\n  const [row, setRow] = useState();\n  const {\n    authorization\n  } = useLoacalStorage();\n  const postData = useCallback(async (dataToPost, link) => {\n    dataToPost.authorization = authorization;\n    const settings = {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'body': JSON.stringify(dataToPost)\n      }\n    };\n    try {\n      const fetchResponse = await fetch(url, settings);\n      const data = await fetchResponse.json();\n      console.log(data);\n      setSuccess(data.status);\n      return data;\n    } catch (e) {\n      console.log(e);\n    }\n  }, [authorization, url]);\n  useEffect(() => {\n    if (apiPost && row) {\n      postData(row, url);\n    }\n  }, [row, postData, url, apiPost]);\n  return {\n    success,\n    setRow\n  };\n};\n_s(usePost, \"CsXv5NIN+kSZsPoKRcmgUnNEM54=\", false, function () {\n  return [useLoacalStorage];\n});\nexport default usePost;","map":{"version":3,"names":["useState","useEffect","useCallback","useLoacalStorage","usePost","apiPost","url","success","setSuccess","row","setRow","authorization","postData","dataToPost","link","settings","method","headers","Accept","JSON","stringify","fetchResponse","fetch","data","json","console","log","status","e"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/usePost.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport useLoacalStorage from \"./useLocalStorage\";\r\n\r\n//@ts-ignore\r\nconst usePost = (apiPost) => {\r\n    \r\n    const url = `http://144.24.209.19:9090/api/v1/${apiPost}`\r\n    const [success, setSuccess] = useState()\r\n    const [row, setRow] = useState<{}>()\r\n    const { authorization } = useLoacalStorage()\r\n    const postData = useCallback( async (dataToPost: any, link: string) => {\r\n        dataToPost.authorization = authorization\r\n    const settings = {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'body': JSON.stringify(dataToPost)\r\n        }\r\n    };\r\n    try {\r\n        const fetchResponse = await fetch(url, settings);\r\n        const data = await fetchResponse.json();\r\n        console.log(data)\r\n        setSuccess(data.status)\r\n        return data\r\n    } catch (e) {\r\n        console.log(e)\r\n    }    \r\n}    ,[authorization, url])\r\n\r\nuseEffect(()=>{\r\n    if(apiPost && row){\r\n    postData(row, url)\r\n    }\r\n}, [row, postData, url, apiPost])\r\n\r\n      return{success, setRow}\r\n}\r\n\r\nexport default usePost"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,gBAAgB,MAAM,mBAAmB;;AAEhD;AACA,MAAMC,OAAO,GAAIC,OAAO,IAAK;EAAA;EAEzB,MAAMC,GAAG,GAAI,oCAAmCD,OAAQ,EAAC;EACzD,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,EAAE;EACxC,MAAM,CAACS,GAAG,EAAEC,MAAM,CAAC,GAAGV,QAAQ,EAAM;EACpC,MAAM;IAAEW;EAAc,CAAC,GAAGR,gBAAgB,EAAE;EAC5C,MAAMS,QAAQ,GAAGV,WAAW,CAAE,OAAOW,UAAe,EAAEC,IAAY,KAAK;IACnED,UAAU,CAACF,aAAa,GAAGA,aAAa;IAC5C,MAAMI,QAAQ,GAAG;MACbC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE,kBAAkB;QAClC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACP,UAAU;MACrC;IACJ,CAAC;IACD,IAAI;MACA,MAAMQ,aAAa,GAAG,MAAMC,KAAK,CAAChB,GAAG,EAAES,QAAQ,CAAC;MAChD,MAAMQ,IAAI,GAAG,MAAMF,aAAa,CAACG,IAAI,EAAE;MACvCC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;MACjBf,UAAU,CAACe,IAAI,CAACI,MAAM,CAAC;MACvB,OAAOJ,IAAI;IACf,CAAC,CAAC,OAAOK,CAAC,EAAE;MACRH,OAAO,CAACC,GAAG,CAACE,CAAC,CAAC;IAClB;EACJ,CAAC,EAAK,CAACjB,aAAa,EAAEL,GAAG,CAAC,CAAC;EAE3BL,SAAS,CAAC,MAAI;IACV,IAAGI,OAAO,IAAII,GAAG,EAAC;MAClBG,QAAQ,CAACH,GAAG,EAAEH,GAAG,CAAC;IAClB;EACJ,CAAC,EAAE,CAACG,GAAG,EAAEG,QAAQ,EAAEN,GAAG,EAAED,OAAO,CAAC,CAAC;EAE3B,OAAM;IAACE,OAAO;IAAEG;EAAM,CAAC;AAC7B,CAAC;AAAA,GAlCKN,OAAO;EAAA,QAKiBD,gBAAgB;AAAA;AA+B9C,eAAeC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}