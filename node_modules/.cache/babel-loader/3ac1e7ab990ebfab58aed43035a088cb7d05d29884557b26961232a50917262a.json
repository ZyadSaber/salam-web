{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nimport API_ID from \"../global/api\";\nimport useLoacalStorage from \"./useLocalStorage\";\nconst useFetch = _ref => {\n  _s();\n  let {\n    link = \"\",\n    fetchOnFirstRun,\n    refreshTimeout,\n    params,\n    noAuthorization = false\n  } = _ref;\n  const {\n    authorization\n  } = useLoacalStorage();\n  //@ts-ignore\n  const url = `http://144.24.209.19:9090/api/v1/${API_ID[link]}`;\n  const [data, setData] = useState([]);\n  const getData = useCallback(async () => {\n    if (authorization || noAuthorization) {\n      const response = await fetch(`${url}?authorization=${authorization}&${new URLSearchParams(params)}`);\n      const apiData = await response.json();\n      setData(apiData);\n    }\n  }, [authorization, noAuthorization, params, url]);\n  useEffect(() => {\n    if (fetchOnFirstRun) {\n      getData();\n    }\n  }, [fetchOnFirstRun, getData, url, params]);\n  const runFetch = useCallback(() => {\n    getData();\n  }, [getData]);\n  return {\n    data,\n    runFetch,\n    setData\n  };\n};\n_s(useFetch, \"acjVVWmnE2RKSDDgjZn58x0sG6w=\", false, function () {\n  return [useLoacalStorage];\n});\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useCallback","API_ID","useLoacalStorage","useFetch","link","fetchOnFirstRun","refreshTimeout","params","noAuthorization","authorization","url","data","setData","getData","response","fetch","URLSearchParams","apiData","json","runFetch"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/hooks/useFetch.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport API_ID from \"../global/api\";\r\nimport useLoacalStorage from \"./useLocalStorage\";\r\n\r\ninterface useFetchProp {\r\n  link: string;\r\n  fetchOnFirstRun?: boolean;\r\n  refreshTimeout?: number;\r\n  params?: any\r\n  noAuthorization?: boolean\r\n}\r\n\r\nconst useFetch = ({\r\n    link = \"\", \r\n    fetchOnFirstRun,\r\n    refreshTimeout,\r\n    params, \r\n    noAuthorization = false\r\n  }: useFetchProp) => {\r\n  const { authorization } = useLoacalStorage()\r\n  //@ts-ignore\r\n  const url = `http://144.24.209.19:9090/api/v1/${API_ID[link]}`\r\n  const [data, setData] = useState<any>([]);\r\n  const getData = useCallback(async()=>{\r\n    if(authorization || noAuthorization){\r\nconst response = await fetch(`${url}?authorization=${authorization}&${new URLSearchParams(params)}`)\r\n    const apiData=await response.json();  \r\n  setData(apiData);\r\n    }\r\n},[authorization, noAuthorization, params, url])\r\n\r\n\r\n    useEffect(() => {\r\n      if(fetchOnFirstRun){\r\n        getData()\r\n      }\r\n      }, [fetchOnFirstRun, getData, url, params]);\r\n\r\n\r\n\r\n      const runFetch = useCallback(()=>{\r\n          getData()\r\n      },[getData])\r\n\r\n      return{data, runFetch, setData}\r\n}\r\n\r\nexport default useFetch"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,OAAOC,MAAM,MAAM,eAAe;AAClC,OAAOC,gBAAgB,MAAM,mBAAmB;AAUhD,MAAMC,QAAQ,GAAG,QAMK;EAAA;EAAA,IANJ;IACdC,IAAI,GAAG,EAAE;IACTC,eAAe;IACfC,cAAc;IACdC,MAAM;IACNC,eAAe,GAAG;EACN,CAAC;EACf,MAAM;IAAEC;EAAc,CAAC,GAAGP,gBAAgB,EAAE;EAC5C;EACA,MAAMQ,GAAG,GAAI,oCAAmCT,MAAM,CAACG,IAAI,CAAE,EAAC;EAC9D,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAM,EAAE,CAAC;EACzC,MAAMe,OAAO,GAAGb,WAAW,CAAC,YAAS;IACnC,IAAGS,aAAa,IAAID,eAAe,EAAC;MACxC,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEL,GAAI,kBAAiBD,aAAc,IAAG,IAAIO,eAAe,CAACT,MAAM,CAAE,EAAC,CAAC;MAChG,MAAMU,OAAO,GAAC,MAAMH,QAAQ,CAACI,IAAI,EAAE;MACrCN,OAAO,CAACK,OAAO,CAAC;IACd;EACJ,CAAC,EAAC,CAACR,aAAa,EAAED,eAAe,EAAED,MAAM,EAAEG,GAAG,CAAC,CAAC;EAG5CX,SAAS,CAAC,MAAM;IACd,IAAGM,eAAe,EAAC;MACjBQ,OAAO,EAAE;IACX;EACA,CAAC,EAAE,CAACR,eAAe,EAAEQ,OAAO,EAAEH,GAAG,EAAEH,MAAM,CAAC,CAAC;EAI3C,MAAMY,QAAQ,GAAGnB,WAAW,CAAC,MAAI;IAC7Ba,OAAO,EAAE;EACb,CAAC,EAAC,CAACA,OAAO,CAAC,CAAC;EAEZ,OAAM;IAACF,IAAI;IAAEQ,QAAQ;IAAEP;EAAO,CAAC;AACrC,CAAC;AAAA,GAjCKT,QAAQ;EAAA,QAOcD,gBAAgB;AAAA;AA4B5C,eAAeC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}