{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\n\n//@ts-ignore\nconst usePost = apiPost => {\n  _s();\n  const url = `http://144.24.209.19:9090/api/v1/${apiPost}`;\n  const [success, setSuccess] = useState(false);\n  const [row, setRow] = useState();\n  // const postData = useCallback(async (dataToPost: any, link: string) => {\n  // await fetch(link, {\n  //         method: \"POST\",\n  //         headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\n  //         body: JSON.stringify(dataToPost)\n  //     }).then(function(response) {\n  //         console.log(response.body)\n  //     })\n  // }, [])\n\n  const getDevices = useCallback(async (dataToPost, link) => {\n    const location = window.location.hostname;\n    const settings = {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n    try {\n      const fetchResponse = await fetch(`http://${location}:9000/api/sensors/`, settings);\n      const data = await fetchResponse.json();\n      return data;\n    } catch (e) {\n      return e;\n    }\n  }, []);\n  useEffect(() => {\n    if (apiPost && row) {\n      postData(row, url);\n    }\n  }, [row, postData, url, success, apiPost]);\n  return {\n    success,\n    setRow\n  };\n};\n_s(usePost, \"nCrFROKywLhRfSvL/XrJnpTk6vQ=\");\nexport default usePost;","map":{"version":3,"names":["useState","useEffect","useCallback","usePost","apiPost","url","success","setSuccess","row","setRow","getDevices","dataToPost","link","location","window","hostname","settings","method","headers","Accept","fetchResponse","fetch","data","json","e","postData"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/usePost.ts"],"sourcesContent":["import React,{ useState, useEffect, useCallback } from \"react\";\r\n\r\n//@ts-ignore\r\nconst usePost = (apiPost) => {\r\n    const url = `http://144.24.209.19:9090/api/v1/${apiPost}`\r\n    const [success, setSuccess] = useState(false)\r\n    const [row, setRow] = useState<{}>()\r\n    // const postData = useCallback(async (dataToPost: any, link: string) => {\r\n    // await fetch(link, {\r\n    //         method: \"POST\",\r\n    //         headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n    //         body: JSON.stringify(dataToPost)\r\n    //     }).then(function(response) {\r\n    //         console.log(response.body)\r\n    //     })\r\n    // }, [])\r\n\r\n    const getDevices = useCallback( async (dataToPost: any, link: string) => {\r\n    const location = window.location.hostname;\r\n    const settings = {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        }\r\n    };\r\n    try {\r\n        const fetchResponse = await fetch(`http://${location}:9000/api/sensors/`, settings);\r\n        const data = await fetchResponse.json();\r\n        return data;\r\n    } catch (e) {\r\n        return e;\r\n    }    \r\n\r\n}    ,[])\r\n\r\nuseEffect(()=>{\r\n    if(apiPost && row){\r\n    postData(row, url)\r\n    }\r\n}, [row, postData, url, success, apiPost])\r\n\r\n      return{success, setRow}\r\n}\r\n\r\nexport default usePost"],"mappings":";AAAA,SAAeA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;;AAE9D;AACA,MAAMC,OAAO,GAAIC,OAAO,IAAK;EAAA;EACzB,MAAMC,GAAG,GAAI,oCAAmCD,OAAQ,EAAC;EACzD,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACQ,GAAG,EAAEC,MAAM,CAAC,GAAGT,QAAQ,EAAM;EACpC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,MAAMU,UAAU,GAAGR,WAAW,CAAE,OAAOS,UAAe,EAAEC,IAAY,KAAK;IACzE,MAAMC,QAAQ,GAAGC,MAAM,CAACD,QAAQ,CAACE,QAAQ;IACzC,MAAMC,QAAQ,GAAG;MACbC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MACpB;IACJ,CAAC;IACD,IAAI;MACA,MAAMC,aAAa,GAAG,MAAMC,KAAK,CAAE,UAASR,QAAS,oBAAmB,EAAEG,QAAQ,CAAC;MACnF,MAAMM,IAAI,GAAG,MAAMF,aAAa,CAACG,IAAI,EAAE;MACvC,OAAOD,IAAI;IACf,CAAC,CAAC,OAAOE,CAAC,EAAE;MACR,OAAOA,CAAC;IACZ;EAEJ,CAAC,EAAK,EAAE,CAAC;EAETvB,SAAS,CAAC,MAAI;IACV,IAAGG,OAAO,IAAII,GAAG,EAAC;MAClBiB,QAAQ,CAACjB,GAAG,EAAEH,GAAG,CAAC;IAClB;EACJ,CAAC,EAAE,CAACG,GAAG,EAAEiB,QAAQ,EAAEpB,GAAG,EAAEC,OAAO,EAAEF,OAAO,CAAC,CAAC;EAEpC,OAAM;IAACE,OAAO;IAAEG;EAAM,CAAC;AAC7B,CAAC;AAAA,GAxCKN,OAAO;AA0Cb,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}