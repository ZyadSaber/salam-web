{"ast":null,"code":"import _slicedToArray from\"/home/zyad/Documents/active_projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback,useEffect}from\"react\";var useLoacalStorage=function useLoacalStorage(storageName){var _useState=useState({authorization:0,display_name:\"\"}),_useState2=_slicedToArray(_useState,2),localStorageData=_useState2[0],setLocalStorageData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),storage=_useState4[0],setStorage=_useState4[1];var changeLocalStorage=useCallback(function(storageData){storageData.map(function(data){window.localStorage.setItem(data.name,JSON.stringify(data.data));});},[]);useEffect(function(){if(storageName){var getStorage=window.localStorage.getItem(storageName);//@ts-ignore\nsetStorage(JSON.parse(getStorage));}},[storageName]);useEffect(function(){var localStorage=window.localStorage.getItem(\"salam\");if(localStorage){setLocalStorageData(JSON.parse(localStorage));}},[]);return{authorization:localStorageData.authorization,displayName:localStorageData.display_name,storage:storage,changeLocalStorage:changeLocalStorage};};export default useLoacalStorage;","map":{"version":3,"names":["useState","useCallback","useEffect","useLoacalStorage","storageName","authorization","display_name","localStorageData","setLocalStorageData","storage","setStorage","changeLocalStorage","storageData","map","data","window","localStorage","setItem","name","JSON","stringify","getStorage","getItem","parse","displayName"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/hooks/useLocalStorage.ts"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\n\ninterface storageDataType{\n    name: string;\n    data: any\n}\nconst useLoacalStorage = (storageName?: string)=>{\n    const [localStorageData, setLocalStorageData] = useState({\n        authorization: 0,\n        display_name: \"\"\n    })\n    const [storage, setStorage] = useState()\n\n    const changeLocalStorage = useCallback((storageData: storageDataType[])=>{\n        storageData.map((data: storageDataType)=>{\n            window.localStorage.setItem(data.name, JSON.stringify(data.data))\n        })\n    },[])\n\n    useEffect(()=>{\n        if(storageName){\n            const getStorage = window.localStorage.getItem(storageName)\n            //@ts-ignore\n            setStorage(JSON.parse(getStorage))\n            \n        }\n    },[storageName])\n\n    useEffect(()=>{\n    const localStorage =  window.localStorage.getItem(\"salam\")\n    if(localStorage){\n        setLocalStorageData(JSON.parse(localStorage))\n    }\n    },[])\n\n    return{authorization: localStorageData.authorization, displayName: localStorageData.display_name, storage, changeLocalStorage}\n}\n\nexport default useLoacalStorage"],"mappings":"mIAAA,OAASA,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAQ,OAAO,CAMxD,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,WAAoB,CAAG,CAC7C,cAAgDJ,QAAQ,CAAC,CACrDK,aAAa,CAAE,CAAC,CAChBC,YAAY,CAAE,EAClB,CAAC,CAAC,wCAHKC,gBAAgB,eAAEC,mBAAmB,eAI5C,eAA8BR,QAAQ,EAAE,yCAAjCS,OAAO,eAAEC,UAAU,eAE1B,GAAMC,mBAAkB,CAAGV,WAAW,CAAC,SAACW,WAA8B,CAAG,CACrEA,WAAW,CAACC,GAAG,CAAC,SAACC,IAAqB,CAAG,CACrCC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACH,IAAI,CAACI,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACN,IAAI,CAACA,IAAI,CAAC,CAAC,CACrE,CAAC,CAAC,CACN,CAAC,CAAC,EAAE,CAAC,CAELZ,SAAS,CAAC,UAAI,CACV,GAAGE,WAAW,CAAC,CACX,GAAMiB,WAAU,CAAGN,MAAM,CAACC,YAAY,CAACM,OAAO,CAAClB,WAAW,CAAC,CAC3D;AACAM,UAAU,CAACS,IAAI,CAACI,KAAK,CAACF,UAAU,CAAC,CAAC,CAEtC,CACJ,CAAC,CAAC,CAACjB,WAAW,CAAC,CAAC,CAEhBF,SAAS,CAAC,UAAI,CACd,GAAMc,aAAY,CAAID,MAAM,CAACC,YAAY,CAACM,OAAO,CAAC,OAAO,CAAC,CAC1D,GAAGN,YAAY,CAAC,CACZR,mBAAmB,CAACW,IAAI,CAACI,KAAK,CAACP,YAAY,CAAC,CAAC,CACjD,CACA,CAAC,CAAC,EAAE,CAAC,CAEL,MAAM,CAACX,aAAa,CAAEE,gBAAgB,CAACF,aAAa,CAAEmB,WAAW,CAAEjB,gBAAgB,CAACD,YAAY,CAAEG,OAAO,CAAPA,OAAO,CAAEE,kBAAkB,CAAlBA,kBAAkB,CAAC,CAClI,CAAC,CAED,cAAeR,iBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}