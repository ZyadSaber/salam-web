{"ast":null,"code":"import _slicedToArray from\"/home/zyad/Documents/active_projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{memo,useCallback,useState}from\"react\";import ApiTable from\"../../components/TableView/ApiTable\";import{mainTableColumns,detailTableColumns}from\"./constant\";import FormView from\"./Partials/FormView\";import useFormManager from\"../../hooks/useFormManager\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InvoicesSearch=function InvoicesSearch(){var searchParamsBaseValues={invoice_type:\"\",invoice_number:\"\",person_id:\"\",date_from:\"\",date_to:\"\"};var _useState=useState({invoice_id:\"\"}),_useState2=_slicedToArray(_useState,2),row=_useState2[0],setRow=_useState2[1];var _useFormManager=useFormManager({initialValue:searchParamsBaseValues}),searchParams=_useFormManager.state,changeSearchParams=_useFormManager.onChange;//@ts-ignore\nvar invoice_type=searchParams.invoice_type,invoice_number=searchParams.invoice_number,person_id=searchParams.person_id,date_from=searchParams.date_from,date_to=searchParams.date_to;var onSelectedRow=useCallback(function(row){setRow(row);},[]);console.log(person_id);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FormView,{changeSearchParams:changeSearchParams,searchParams:searchParams}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(ApiTable,{columns:mainTableColumns,api:\"QUERY_INVOICE_MASTER_TABLE_DATA\",rowKey:\"invoice_id\",width:\"35%\",fetchOnFirstRun:true,params:{invoice_type:invoice_type,invoice_number:invoice_number,person_id:person_id// date_from: date_from,\n// date_to: date_to\n},onSelectedRow:onSelectedRow}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"65%\"},children:/*#__PURE__*/_jsx(ApiTable,{columns:detailTableColumns,api:\"QUERY_INVOICE_DETAIL_TABLE_DATA\",rowKey:\"row_key\",fetchOnFirstRun:true,params:{invoice_type:invoice_type,invoice_number:row.invoice_id}})})]})]});};export default/*#__PURE__*/memo(InvoicesSearch);","map":{"version":3,"names":["memo","useCallback","useState","ApiTable","mainTableColumns","detailTableColumns","FormView","useFormManager","InvoicesSearch","searchParamsBaseValues","invoice_type","invoice_number","person_id","date_from","date_to","invoice_id","row","setRow","initialValue","searchParams","state","changeSearchParams","onChange","onSelectedRow","console","log","display","width"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/Pages/InvoicesSearch/component.tsx"],"sourcesContent":["import { memo, useCallback, useState } from \"react\";\nimport ApiTable from \"../../components/TableView/ApiTable\";\nimport { mainTableColumns, detailTableColumns } from \"./constant\";\nimport FormView from \"./Partials/FormView\";\nimport useFormManager from \"../../hooks/useFormManager\";\n\nconst InvoicesSearch = () => {\n\n    const searchParamsBaseValues = {\n        invoice_type: \"\",\n        invoice_number: \"\",\n        person_id: \"\",\n        date_from: \"\",\n        date_to: \"\"\n    }\n    const [row, setRow] = useState({\n        invoice_id: \"\"\n    })\n    const { state: searchParams, onChange: changeSearchParams } = useFormManager({ initialValue: searchParamsBaseValues })\n    //@ts-ignore\n    const { invoice_type, invoice_number, person_id, date_from, date_to } = searchParams\n\n    const onSelectedRow = useCallback((row?: any) => {\n        setRow(row)\n    }, [])\n\n    console.log(person_id)\n\n    return (\n        <>\n            <FormView\n                changeSearchParams={changeSearchParams}\n                searchParams={searchParams}\n            />\n            <div style={{ display: \"flex\" }}>\n                <ApiTable\n                    columns={mainTableColumns}\n                    api=\"QUERY_INVOICE_MASTER_TABLE_DATA\"\n                    rowKey=\"invoice_id\"\n                    width=\"35%\"\n                    fetchOnFirstRun\n                    params={{\n                        invoice_type: invoice_type,\n                        invoice_number: invoice_number,\n                        person_id: person_id,\n                        // date_from: date_from,\n                        // date_to: date_to\n                    }}\n                    onSelectedRow={onSelectedRow}\n                />\n                <div style={{ width: \"65%\" }}>\n                    <ApiTable\n                        columns={detailTableColumns}\n                        api=\"QUERY_INVOICE_DETAIL_TABLE_DATA\"\n                        rowKey=\"row_key\"\n                        fetchOnFirstRun\n                        params={{\n                            invoice_type: invoice_type,\n                            invoice_number: row.invoice_id\n                        }}\n                    />\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default memo(InvoicesSearch)"],"mappings":"mIAAA,OAASA,IAAI,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAOC,SAAQ,KAAM,qCAAqC,CAC1D,OAASC,gBAAgB,CAAEC,kBAAkB,KAAQ,YAAY,CACjE,MAAOC,SAAQ,KAAM,qBAAqB,CAC1C,MAAOC,eAAc,KAAM,4BAA4B,CAAC,6IAExD,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAEzB,GAAMC,uBAAsB,CAAG,CAC3BC,YAAY,CAAE,EAAE,CAChBC,cAAc,CAAE,EAAE,CAClBC,SAAS,CAAE,EAAE,CACbC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EACb,CAAC,CACD,cAAsBZ,QAAQ,CAAC,CAC3Ba,UAAU,CAAE,EAChB,CAAC,CAAC,wCAFKC,GAAG,eAAEC,MAAM,eAGlB,oBAA8DV,cAAc,CAAC,CAAEW,YAAY,CAAET,sBAAuB,CAAC,CAAC,CAAvGU,YAAY,iBAAnBC,KAAK,CAA0BC,kBAAkB,iBAA5BC,QAAQ,CACrC;AACA,GAAQZ,aAAY,CAAoDS,YAAY,CAA5ET,YAAY,CAAEC,cAAc,CAAoCQ,YAAY,CAA9DR,cAAc,CAAEC,SAAS,CAAyBO,YAAY,CAA9CP,SAAS,CAAEC,SAAS,CAAcM,YAAY,CAAnCN,SAAS,CAAEC,OAAO,CAAKK,YAAY,CAAxBL,OAAO,CAEnE,GAAMS,cAAa,CAAGtB,WAAW,CAAC,SAACe,GAAS,CAAK,CAC7CC,MAAM,CAACD,GAAG,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAENQ,OAAO,CAACC,GAAG,CAACb,SAAS,CAAC,CAEtB,mBACI,wCACI,KAAC,QAAQ,EACL,kBAAkB,CAAES,kBAAmB,CACvC,YAAY,CAAEF,YAAa,EAC7B,cACF,aAAK,KAAK,CAAE,CAAEO,OAAO,CAAE,MAAO,CAAE,wBAC5B,KAAC,QAAQ,EACL,OAAO,CAAEtB,gBAAiB,CAC1B,GAAG,CAAC,iCAAiC,CACrC,MAAM,CAAC,YAAY,CACnB,KAAK,CAAC,KAAK,CACX,eAAe,MACf,MAAM,CAAE,CACJM,YAAY,CAAEA,YAAY,CAC1BC,cAAc,CAAEA,cAAc,CAC9BC,SAAS,CAAEA,SACX;AACA;AACJ,CAAE,CACF,aAAa,CAAEW,aAAc,EAC/B,cACF,YAAK,KAAK,CAAE,CAAEI,KAAK,CAAE,KAAM,CAAE,uBACzB,KAAC,QAAQ,EACL,OAAO,CAAEtB,kBAAmB,CAC5B,GAAG,CAAC,iCAAiC,CACrC,MAAM,CAAC,SAAS,CAChB,eAAe,MACf,MAAM,CAAE,CACJK,YAAY,CAAEA,YAAY,CAC1BC,cAAc,CAAEK,GAAG,CAACD,UACxB,CAAE,EACJ,EACA,GACJ,GACP,CAEX,CAAC,CAED,2BAAef,IAAI,CAACQ,cAAc,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}