{"ast":null,"code":"import _regeneratorRuntime from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/zyad/Documents/ActiveProjects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from\"react\";import useLoacalStorage from\"./useLocalStorage\";import API_ID from\"../global/api\";;var usePost=function usePost(_ref){var link=_ref.link;//@ts-ignore\nvar url=\"http://144.24.209.19:9090/api/v1/\".concat(API_ID[link]);// const url = `http://127.0.0.1:9090/api/v1/${link}`\n// const url = `http://192.168.1.250:9090/api/v1/${link}`\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),success=_useState2[0],setSuccess=_useState2[1];var _useLoacalStorage=useLoacalStorage(),authorization=_useLoacalStorage.authorization;var postData=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataToPost){var settings,fetchResponse,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataToPost.authorization=authorization;settings={method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(dataToPost)};_context.prev=2;_context.next=5;return fetch(url,settings);case 5:fetchResponse=_context.sent;_context.next=8;return fetchResponse.json();case 8:data=_context.sent;setSuccess(data);return _context.abrupt(\"return\",data);case 13:_context.prev=13;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 16:case\"end\":return _context.stop();}}},_callee,null,[[2,13]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[authorization,url]);var setRow=useCallback(function(row){postData(row);},[postData]);return{success:success,setRow:setRow};};export default usePost;","map":{"version":3,"names":["useState","useCallback","useLoacalStorage","API_ID","usePost","link","url","success","setSuccess","authorization","postData","dataToPost","settings","method","headers","Accept","body","JSON","stringify","fetch","fetchResponse","json","data","console","log","setRow","row"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/usePost.ts"],"sourcesContent":["import { useState, useCallback } from \"react\";\r\nimport useLoacalStorage from \"./useLocalStorage\";\r\nimport API_ID from \"../global/api\"\r\n\r\ninterface usePostProps{\r\n    link: string;\r\n};\r\n\r\nconst usePost = ({link}: usePostProps) => {\r\n    //@ts-ignore\r\n    const url = `http://144.24.209.19:9090/api/v1/${API_ID[link]}`\r\n    // const url = `http://127.0.0.1:9090/api/v1/${link}`\r\n    // const url = `http://192.168.1.250:9090/api/v1/${link}`\r\n    const [success, setSuccess] = useState()\r\n    const { authorization } = useLoacalStorage()\r\n    const postData = useCallback(async (dataToPost: any) => {\r\n        dataToPost.authorization = authorization\r\n        const settings = {\r\n            method: 'POST',\r\n            headers: {\r\n                Accept: 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(dataToPost)\r\n        };\r\n        try {\r\n            const fetchResponse = await fetch(url, settings);\r\n            const data = await fetchResponse.json();\r\n            setSuccess(data)\r\n            return data\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n    }, [authorization, url])\r\n\r\n    const setRow = useCallback((row: any) => {\r\n        postData(row)\r\n    }, [postData])\r\n\r\n    return { success, setRow }\r\n}\r\n\r\nexport default usePost"],"mappings":"sZAAA,OAASA,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CAC7C,MAAOC,iBAAgB,KAAM,mBAAmB,CAChD,MAAOC,OAAM,KAAM,eAAe,CAIjC,CAED,GAAMC,QAAO,CAAG,QAAVA,QAAO,MAA6B,IAAxBC,KAAI,MAAJA,IAAI,CAClB;AACA,GAAMC,IAAG,4CAAuCH,MAAM,CAACE,IAAI,CAAC,CAAE,CAC9D;AACA;AACA,cAA8BL,QAAQ,EAAE,wCAAjCO,OAAO,eAAEC,UAAU,eAC1B,sBAA0BN,gBAAgB,EAAE,CAApCO,aAAa,mBAAbA,aAAa,CACrB,GAAMC,SAAQ,CAAGT,WAAW,6FAAC,iBAAOU,UAAe,oJAC/CA,UAAU,CAACF,aAAa,CAAGA,aAAa,CAClCG,QAAQ,CAAG,CACbC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACLC,MAAM,CAAE,kBAAkB,CAC1B,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACP,UAAU,CACnC,CAAC,uCAE+BQ,MAAK,CAACb,GAAG,CAAEM,QAAQ,CAAC,QAA1CQ,aAAa,qCACAA,cAAa,CAACC,IAAI,EAAE,QAAjCC,IAAI,eACVd,UAAU,CAACc,IAAI,CAAC,iCACTA,IAAI,4DAEXC,OAAO,CAACC,GAAG,aAAG,sEAErB,gEAAE,CAACf,aAAa,CAAEH,GAAG,CAAC,CAAC,CAExB,GAAMmB,OAAM,CAAGxB,WAAW,CAAC,SAACyB,GAAQ,CAAK,CACrChB,QAAQ,CAACgB,GAAG,CAAC,CACjB,CAAC,CAAE,CAAChB,QAAQ,CAAC,CAAC,CAEd,MAAO,CAAEH,OAAO,CAAPA,OAAO,CAAEkB,MAAM,CAANA,MAAO,CAAC,CAC9B,CAAC,CAED,cAAerB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}