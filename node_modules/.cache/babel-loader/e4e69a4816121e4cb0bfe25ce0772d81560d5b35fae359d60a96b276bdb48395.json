{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nconst useFetch = function (link) {\n  _s();\n  let fetchOnFirstRun = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const url = `http://127.0.0.1:9090/api/v1/${link}`;\n  const [data, setData] = useState([]);\n  const getData = useCallback(async link => {\n    const response = await fetch(link);\n    const apiData = await response.json();\n    setData(apiData);\n  }, []);\n  useEffect(() => {\n    if (fetchOnFirstRun) {\n      getData(url);\n    }\n  }, [getData, url, fetchOnFirstRun]);\n  const refresh = () => {\n    getData(url);\n  };\n  return {\n    data,\n    refresh,\n    setData\n  };\n};\n_s(useFetch, \"VXxjjr4B9BXqSxj+UXQHTt/Zuzo=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useCallback","useFetch","link","fetchOnFirstRun","url","data","setData","getData","response","fetch","apiData","json","refresh"],"sources":["/home/zyad/Documents/ActiveProjects/SalamApp/src/hooks/useFetch.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\nconst useFetch = (link : string, fetchOnFirstRun = false) => {\r\n  const url = `http://127.0.0.1:9090/api/v1/${link}`\r\n    const [data, setData] = useState<any>([]);\r\n\r\nconst getData = useCallback(async(link: string)=>{\r\n    const response=await fetch(link);\r\n    const apiData=await response.json();  \r\n  setData(apiData);\r\n},[])\r\n\r\n    useEffect(() => {\r\n      if(fetchOnFirstRun){\r\n      getData(url)\r\n      }\r\n      }, [getData, url, fetchOnFirstRun]);\r\n\r\n      const refresh = ()=>{\r\n      getData(url)\r\n      }\r\n\r\n      return{data, refresh, setData}\r\n}\r\n\r\nexport default useFetch"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAExD,MAAMC,QAAQ,GAAG,UAACC,IAAa,EAA8B;EAAA;EAAA,IAA5BC,eAAe,uEAAG,KAAK;EACtD,MAAMC,GAAG,GAAI,gCAA+BF,IAAK,EAAC;EAChD,MAAM,CAACG,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAM,EAAE,CAAC;EAE7C,MAAMS,OAAO,GAAGP,WAAW,CAAC,MAAME,IAAY,IAAG;IAC7C,MAAMM,QAAQ,GAAC,MAAMC,KAAK,CAACP,IAAI,CAAC;IAChC,MAAMQ,OAAO,GAAC,MAAMF,QAAQ,CAACG,IAAI,EAAE;IACrCL,OAAO,CAACI,OAAO,CAAC;EAClB,CAAC,EAAC,EAAE,CAAC;EAEDX,SAAS,CAAC,MAAM;IACd,IAAGI,eAAe,EAAC;MACnBI,OAAO,CAACH,GAAG,CAAC;IACZ;EACA,CAAC,EAAE,CAACG,OAAO,EAAEH,GAAG,EAAED,eAAe,CAAC,CAAC;EAEnC,MAAMS,OAAO,GAAG,MAAI;IACpBL,OAAO,CAACH,GAAG,CAAC;EACZ,CAAC;EAED,OAAM;IAACC,IAAI;IAAEO,OAAO;IAAEN;EAAO,CAAC;AACpC,CAAC;AAAA,GArBKL,QAAQ;AAuBd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}