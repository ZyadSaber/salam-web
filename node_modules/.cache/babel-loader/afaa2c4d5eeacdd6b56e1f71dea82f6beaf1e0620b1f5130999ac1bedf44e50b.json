{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\n\n//@ts-ignore\nconst useDelete = link => {\n  _s();\n  const [id, setId] = useState();\n  const url = `http://localhost:8000/${link}/${id}`;\n  const [success, setSuccess] = useState(false);\n  const [row, setRow] = useState();\n  const deleteData = useCallback(async (dataToDelete, link) => {\n    await fetch(link, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify(dataToDelete)\n    });\n    setSuccess(true);\n  }, []);\n  useEffect(() => {\n    if (link && row) {\n      deleteData(row, url);\n    }\n  }, [link, row, deleteData, url, id]);\n  return {\n    success,\n    setRow,\n    setId\n  };\n};\n_s(useDelete, \"n8Mowuu+9Hnqb6giQb6wFhX4eK8=\");\nexport default useDelete;","map":{"version":3,"names":["useState","useEffect","useCallback","useDelete","link","id","setId","url","success","setSuccess","row","setRow","deleteData","dataToDelete","fetch","method","headers","body","JSON","stringify"],"sources":["/home/zyad/Documents/active_projects/SalamApp/common/hooks/src/useDelete.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\n\r\n//@ts-ignore\r\nconst useDelete = (link) => {\r\n    const [id, setId] = useState<number>()\r\n    const url = `http://localhost:8000/${link}/${id}`\r\n    const [success, setSuccess] = useState(false)\r\n    const [row, setRow] = useState<{}>()\r\n    const deleteData = useCallback(async (dataToDelete: any, link: string) => {\r\n        await fetch(link, {\r\n            method: \"DELETE\",\r\n            headers: { \"Content-type\": \"application/json; charset=UTF-8\" },\r\n            body: JSON.stringify(dataToDelete)\r\n        });\r\n        setSuccess(true)\r\n    }, [])\r\n\r\nuseEffect(()=>{\r\n    if(link && row){\r\n    deleteData(row, url)\r\n    }\r\n}, [link, row, deleteData, url, id])\r\n\r\n      return{success, setRow, setId}\r\n}\r\n\r\nexport default useDelete"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;;AAExD;AACA,MAAMC,SAAS,GAAIC,IAAI,IAAK;EAAA;EACxB,MAAM,CAACC,EAAE,EAAEC,KAAK,CAAC,GAAGN,QAAQ,EAAU;EACtC,MAAMO,GAAG,GAAI,yBAAwBH,IAAK,IAAGC,EAAG,EAAC;EACjD,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACU,GAAG,EAAEC,MAAM,CAAC,GAAGX,QAAQ,EAAM;EACpC,MAAMY,UAAU,GAAGV,WAAW,CAAC,OAAOW,YAAiB,EAAET,IAAY,KAAK;IACtE,MAAMU,KAAK,CAACV,IAAI,EAAE;MACdW,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAkC,CAAC;MAC9DC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,YAAY;IACrC,CAAC,CAAC;IACFJ,UAAU,CAAC,IAAI,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEVR,SAAS,CAAC,MAAI;IACV,IAAGG,IAAI,IAAIM,GAAG,EAAC;MACfE,UAAU,CAACF,GAAG,EAAEH,GAAG,CAAC;IACpB;EACJ,CAAC,EAAE,CAACH,IAAI,EAAEM,GAAG,EAAEE,UAAU,EAAEL,GAAG,EAAEF,EAAE,CAAC,CAAC;EAE9B,OAAM;IAACG,OAAO;IAAEG,MAAM;IAAEL;EAAK,CAAC;AACpC,CAAC;AAAA,GArBKH,SAAS;AAuBf,eAAeA,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}