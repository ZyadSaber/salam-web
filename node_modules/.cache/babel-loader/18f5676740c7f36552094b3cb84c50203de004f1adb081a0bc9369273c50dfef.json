{"ast":null,"code":"import _slicedToArray from\"/home/zyad/Documents/active_projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{memo,useCallback,useState}from\"react\";import ApiTable from\"../../components/TableView/ApiTable\";import{mainTableColumns,detailTableColumns}from\"./constant\";import FormView from\"./Partials/FormView\";import useFormManager from\"../../hooks/useFormManager\";import Flex from\"../../components/Flex/Flex\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var InvoicesSearch=function InvoicesSearch(){var searchParamsBaseValues={invoice_type:\"\",invoice_number:\"\",person_id:\"\",date_from:\"\",date_to:\"\"};var _useState=useState({invoice_id:\"\"}),_useState2=_slicedToArray(_useState,2),row=_useState2[0],setRow=_useState2[1];var _useFormManager=useFormManager({initialValue:searchParamsBaseValues}),searchParams=_useFormManager.state,changeSearchParams=_useFormManager.onChange;//@ts-ignore\nvar invoice_type=searchParams.invoice_type,invoice_number=searchParams.invoice_number,person_id=searchParams.person_id;var onSelectedRow=useCallback(function(row){setRow(row);},[]);console.log(person_id);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Flex,{width:\"100%\",margin:\"0\",padding:\"0\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(FormView,{changeSearchParams:changeSearchParams,searchParams:searchParams}),/*#__PURE__*/_jsxs(Flex,{width:\"100%\",margin:\"0\",padding:\"0\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(ApiTable,{columns:mainTableColumns,api:\"QUERY_INVOICE_MASTER_TABLE_DATA\",rowKey:\"invoice_id\",fetchOnFirstRun:true,params:{invoice_type:invoice_type,invoice_number:invoice_number,person_id:person_id// date_from: date_from,\n// date_to: date_to\n},width:\"40%\",onSelectedRow:onSelectedRow}),/*#__PURE__*/_jsx(ApiTable,{columns:detailTableColumns,api:\"QUERY_INVOICE_DETAIL_TABLE_DATA\",rowKey:\"row_key\",fetchOnFirstRun:true,width:\"60%\",params:{invoice_type:invoice_type,invoice_number:row.invoice_id}})]})]})});};export default/*#__PURE__*/memo(InvoicesSearch);","map":{"version":3,"names":["memo","useCallback","useState","ApiTable","mainTableColumns","detailTableColumns","FormView","useFormManager","Flex","InvoicesSearch","searchParamsBaseValues","invoice_type","invoice_number","person_id","date_from","date_to","invoice_id","row","setRow","initialValue","searchParams","state","changeSearchParams","onChange","onSelectedRow","console","log"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/Pages/InvoicesSearch/component.tsx"],"sourcesContent":["import { memo, useCallback, useState } from \"react\";\nimport ApiTable from \"../../components/TableView/ApiTable\";\nimport { mainTableColumns, detailTableColumns } from \"./constant\";\nimport FormView from \"./Partials/FormView\";\nimport useFormManager from \"../../hooks/useFormManager\";\nimport Flex from \"../../components/Flex/Flex\";\n\nconst InvoicesSearch = () => {\n\n    const searchParamsBaseValues = {\n        invoice_type: \"\",\n        invoice_number: \"\",\n        person_id: \"\",\n        date_from: \"\",\n        date_to: \"\"\n    }\n    const [row, setRow] = useState({\n        invoice_id: \"\"\n    })\n    const { state: searchParams, onChange: changeSearchParams } = useFormManager({ initialValue: searchParamsBaseValues })\n    //@ts-ignore\n    const { invoice_type, invoice_number, person_id } = searchParams\n\n    const onSelectedRow = useCallback((row?: any) => {\n        setRow(row)\n    }, [])\n\n    console.log(person_id)\n\n    return (\n        <>\n            <Flex width=\"100%\" margin=\"0\" padding=\"0\" flexDirection=\"column\">\n                <FormView\n                    changeSearchParams={changeSearchParams}\n                    searchParams={searchParams}\n                />\n                <Flex width=\"100%\" margin=\"0\" padding=\"0\" justifyContent=\"space-between\">\n                    <ApiTable\n                        columns={mainTableColumns}\n                        api=\"QUERY_INVOICE_MASTER_TABLE_DATA\"\n                        rowKey=\"invoice_id\"\n                        fetchOnFirstRun\n                        params={{\n                            invoice_type: invoice_type,\n                            invoice_number: invoice_number,\n                            person_id: person_id,\n                            // date_from: date_from,\n                            // date_to: date_to\n                        }}\n                        width=\"40%\"\n                        onSelectedRow={onSelectedRow}\n                    />\n                    <ApiTable\n                        columns={detailTableColumns}\n                        api=\"QUERY_INVOICE_DETAIL_TABLE_DATA\"\n                        rowKey=\"row_key\"\n                        fetchOnFirstRun\n                        width=\"60%\"\n                        params={{\n                            invoice_type: invoice_type,\n                            invoice_number: row.invoice_id\n                        }}\n                    />\n                </Flex>\n            </Flex>\n        </>\n    )\n}\n\nexport default memo(InvoicesSearch)"],"mappings":"mIAAA,OAASA,IAAI,CAAEC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CACnD,MAAOC,SAAQ,KAAM,qCAAqC,CAC1D,OAASC,gBAAgB,CAAEC,kBAAkB,KAAQ,YAAY,CACjE,MAAOC,SAAQ,KAAM,qBAAqB,CAC1C,MAAOC,eAAc,KAAM,4BAA4B,CACvD,MAAOC,KAAI,KAAM,4BAA4B,CAAC,6IAE9C,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAEzB,GAAMC,uBAAsB,CAAG,CAC3BC,YAAY,CAAE,EAAE,CAChBC,cAAc,CAAE,EAAE,CAClBC,SAAS,CAAE,EAAE,CACbC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EACb,CAAC,CACD,cAAsBb,QAAQ,CAAC,CAC3Bc,UAAU,CAAE,EAChB,CAAC,CAAC,wCAFKC,GAAG,eAAEC,MAAM,eAGlB,oBAA8DX,cAAc,CAAC,CAAEY,YAAY,CAAET,sBAAuB,CAAC,CAAC,CAAvGU,YAAY,iBAAnBC,KAAK,CAA0BC,kBAAkB,iBAA5BC,QAAQ,CACrC;AACA,GAAQZ,aAAY,CAAgCS,YAAY,CAAxDT,YAAY,CAAEC,cAAc,CAAgBQ,YAAY,CAA1CR,cAAc,CAAEC,SAAS,CAAKO,YAAY,CAA1BP,SAAS,CAE/C,GAAMW,cAAa,CAAGvB,WAAW,CAAC,SAACgB,GAAS,CAAK,CAC7CC,MAAM,CAACD,GAAG,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAENQ,OAAO,CAACC,GAAG,CAACb,SAAS,CAAC,CAEtB,mBACI,sCACI,MAAC,IAAI,EAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,QAAQ,wBAC5D,KAAC,QAAQ,EACL,kBAAkB,CAAES,kBAAmB,CACvC,YAAY,CAAEF,YAAa,EAC7B,cACF,MAAC,IAAI,EAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,eAAe,wBACpE,KAAC,QAAQ,EACL,OAAO,CAAEhB,gBAAiB,CAC1B,GAAG,CAAC,iCAAiC,CACrC,MAAM,CAAC,YAAY,CACnB,eAAe,MACf,MAAM,CAAE,CACJO,YAAY,CAAEA,YAAY,CAC1BC,cAAc,CAAEA,cAAc,CAC9BC,SAAS,CAAEA,SACX;AACA;AACJ,CAAE,CACF,KAAK,CAAC,KAAK,CACX,aAAa,CAAEW,aAAc,EAC/B,cACF,KAAC,QAAQ,EACL,OAAO,CAAEnB,kBAAmB,CAC5B,GAAG,CAAC,iCAAiC,CACrC,MAAM,CAAC,SAAS,CAChB,eAAe,MACf,KAAK,CAAC,KAAK,CACX,MAAM,CAAE,CACJM,YAAY,CAAEA,YAAY,CAC1BC,cAAc,CAAEK,GAAG,CAACD,UACxB,CAAE,EACJ,GACC,GACJ,EACR,CAEX,CAAC,CAED,2BAAehB,IAAI,CAACS,cAAc,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}