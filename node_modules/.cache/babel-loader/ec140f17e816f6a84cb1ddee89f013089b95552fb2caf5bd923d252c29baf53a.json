{"ast":null,"code":"import _slicedToArray from\"C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{memo,useCallback,useEffect,useState}from'react';import Header from'../../components/Header/component';import Footer from'../../components/Footer/component';import useCheckUser from'../../hooks/useCheckUser';import'./style.css';import useFetch from'../../hooks/useFetch';import ModalView from\"./Partials/ModalView\";import FormView from\"./Partials/FormView\";import Table from\"../../components/TableView/Table\";import useTableControlsButtons from\"../../components/TableView/hooks/useTableControlsButtons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Items=function Items(){//@ts-ignore\nvar _useTableControlsButt=useTableControlsButtons(\"items\"),setSelectedRow=_useTableControlsButt.setSelectedRow,onDelete=_useTableControlsButt.onDelete,onSaveAndInsertion=_useTableControlsButt.onSaveAndInsertion,setMode=_useTableControlsButt.setMode,selectedRow=_useTableControlsButt.selectedRow,response=_useTableControlsButt.response,modal=_useTableControlsButt.modal,setModal=_useTableControlsButt.setModal;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([{item_name:\"\",unit:\"\",base_price:\"\",id:0}]),_useState4=_slicedToArray(_useState3,2),mainTableData=_useState4[0],setMainTableData=_useState4[1];var _useCheckUser=useCheckUser(),hidden=_useCheckUser.hidden;var _useFetch=useFetch(\"http://localhost:8000/items\"),data=_useFetch.data;useEffect(function(){setMainTableData(data);},[data,response]);var handleAdd=useCallback(function(){setMode(\"n\");setModal(true);setSelectedRow({});},[setMode,setModal,setSelectedRow]);var handleCloseModal=useCallback(function(){setModal(false);setSelectedRow({});setMode(\"\");setMainTableData(data);},[setModal,setSelectedRow,setMode,data]);var handleEdit=useCallback(function(){setMode(\"u\");setModal(true);},[setModal,setMode]);var handleSelect=useCallback(function(selected){return function(){setSelectedRow(selected);};},[setSelectedRow]);var handleSearchMethod=useCallback(function(){setMainTableData(data.filter(function(item){if(search===\"\")return item;else if(item.item_name.toLocaleLowerCase().includes(search.toLowerCase()))return item;}));},[data,search]);var columns=[{title:\"Item Name\"},{title:\"Unit\"},{title:\"Base Price\"}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Items\",hidden:hidden,children:[/*#__PURE__*/_jsx(Table,{title:\"Items Data\",columns:columns,Form:/*#__PURE__*/_jsx(FormView,{setValue:setSearch,onSearch:handleSearchMethod}),hideTools:false,canEdit:true,canAdd:true,canDelete:true,onAdd:handleAdd,onEdit:handleEdit,onDelete:onDelete,children:mainTableData.map(function(item){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(item),children:item.item_name}),/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(item),children:item.unit}),/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(item),children:item.base_price})]});})}),/*#__PURE__*/_jsx(ModalView,{visible:modal,onOK:onSaveAndInsertion,onClose:handleCloseModal,setItems:setSelectedRow,Items:selectedRow})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default/*#__PURE__*/memo(Items);","map":{"version":3,"names":["React","memo","useCallback","useEffect","useState","Header","Footer","useCheckUser","useFetch","ModalView","FormView","Table","useTableControlsButtons","Items","setSelectedRow","onDelete","onSaveAndInsertion","setMode","selectedRow","response","modal","setModal","search","setSearch","item_name","unit","base_price","id","mainTableData","setMainTableData","hidden","data","handleAdd","handleCloseModal","handleEdit","handleSelect","selected","handleSearchMethod","filter","item","toLocaleLowerCase","includes","toLowerCase","columns","title","map"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/src/Pages/Items/component.tsx"],"sourcesContent":["import React, { memo, useCallback, useEffect, useState } from 'react';\r\nimport Header from '../../components/Header/component';\r\nimport Footer from '../../components/Footer/component';\r\nimport useCheckUser from '../../hooks/useCheckUser';\r\nimport './style.css';\r\nimport useFetch from '../../hooks/useFetch';\r\nimport ModalView from \"./Partials/ModalView\";\r\nimport FormView from \"./Partials/FormView\";\r\nimport Table from \"../../components/TableView/Table\";\r\nimport useTableControlsButtons from \"../../components/TableView/hooks/useTableControlsButtons\"\r\n\r\ninterface ItemsType {\r\n    id?: number;\r\n    item_name: string;\r\n    unit?: string;\r\n    base_price?: string;\r\n}\r\n\r\nconst Items = () => {\r\n    //@ts-ignore\r\n    const { setSelectedRow, onDelete, onSaveAndInsertion, setMode, selectedRow, response, modal, setModal } = useTableControlsButtons(\"items\")\r\n    const [search, setSearch] = useState(\"\");\r\n    const [mainTableData, setMainTableData] = useState<ItemsType[]>([\r\n        {\r\n            item_name: \"\",\r\n            unit: \"\",\r\n            base_price: \"\",\r\n            id: 0\r\n        }\r\n    ])\r\n\r\n    const { hidden } = useCheckUser()\r\n    const { data } = useFetch(\"http://localhost:8000/items\")\r\n\r\n    useEffect(() => {\r\n        setMainTableData(data)\r\n    }, [data, response])\r\n\r\n    const handleAdd = useCallback(() => {\r\n        setMode(\"n\")\r\n        setModal(true)\r\n        setSelectedRow({})\r\n    }, [setMode, setModal, setSelectedRow])\r\n\r\n    const handleCloseModal = useCallback(() => {\r\n        setModal(false)\r\n        setSelectedRow({})\r\n        setMode(\"\")\r\n        setMainTableData(data)\r\n    }, [setModal, setSelectedRow, setMode, data])\r\n\r\n    const handleEdit = useCallback(() => {\r\n        setMode(\"u\")\r\n        setModal(true)\r\n    }, [setModal, setMode])\r\n\r\n    const handleSelect = useCallback((selected: ItemsType) => () => { setSelectedRow(selected) }, [setSelectedRow])\r\n\r\n    const handleSearchMethod = useCallback(() => {\r\n        setMainTableData(data.filter((item: ItemsType) => {\r\n            if (search === \"\") return item;\r\n            else if (item.item_name.toLocaleLowerCase().includes(search.toLowerCase())) return item;\r\n        }))\r\n    }, [data, search])\r\n\r\n    const columns = [\r\n        { title: \"Item Name\" },\r\n        { title: \"Unit\" },\r\n        { title: \"Base Price\" },\r\n    ]\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <div className=\"Items\" hidden={hidden}>\r\n                <Table\r\n                    title={\"Items Data\"}\r\n                    columns={columns}\r\n                    Form={<FormView\r\n                        setValue={setSearch}\r\n                        onSearch={handleSearchMethod}\r\n                    />}\r\n                    hideTools={false}\r\n                    canEdit={true}\r\n                    canAdd={true}\r\n                    canDelete={true}\r\n                    onAdd={handleAdd}\r\n                    onEdit={handleEdit}\r\n                    onDelete={onDelete}\r\n                >\r\n                    {mainTableData.map((item: ItemsType) => {\r\n                        return (\r\n                            <>\r\n                                <td onClick={handleSelect(item)}>{item.item_name}</td>\r\n                                <td onClick={handleSelect(item)}>{item.unit}</td>\r\n                                <td onClick={handleSelect(item)}>{item.base_price}</td>\r\n                            </>\r\n                        )\r\n                    })}\r\n                </Table>\r\n\r\n                <ModalView\r\n                    visible={modal}\r\n                    onOK={onSaveAndInsertion}\r\n                    onClose={handleCloseModal}\r\n                    setItems={setSelectedRow}\r\n                    Items={selectedRow}\r\n                />\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default memo(Items);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}