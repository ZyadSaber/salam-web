{"ast":null,"code":"import _slicedToArray from\"/home/zyad/Documents/active_projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useCallback}from'react';import\"./style.css\";import Button from\"../button/button\";import IconButton from'../button/iconButton';import{useTranslation}from'react-i18next';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Table=function Table(_ref){var dataSource=_ref.dataSource,_ref$rowkey=_ref.rowkey,rowkey=_ref$rowkey===void 0?\"rowkey\":_ref$rowkey,columns=_ref.columns,_ref$hideTools=_ref.hideTools,hideTools=_ref$hideTools===void 0?true:_ref$hideTools,_ref$canEdit=_ref.canEdit,canEdit=_ref$canEdit===void 0?false:_ref$canEdit,_ref$canAdd=_ref.canAdd,canAdd=_ref$canAdd===void 0?false:_ref$canAdd,_ref$canDelete=_ref.canDelete,canDelete=_ref$canDelete===void 0?false:_ref$canDelete,onAdd=_ref.onAdd,onEdit=_ref.onEdit,onDelete=_ref.onDelete,children=_ref.children,_ref$actionColumn=_ref.actionColumn,actionColumn=_ref$actionColumn===void 0?false:_ref$actionColumn,onAction=_ref.onAction,_ref$actionLabel=_ref.actionLabel,actionLabel=_ref$actionLabel===void 0?\"\":_ref$actionLabel,onSelectedRow=_ref.onSelectedRow,_ref$canPrint=_ref.canPrint,canPrint=_ref$canPrint===void 0?false:_ref$canPrint,onPrint=_ref.onPrint,addionalButtons=_ref.addionalButtons,onSave=_ref.onSave,_ref$canSave=_ref.canSave,canSave=_ref$canSave===void 0?false:_ref$canSave,_ref$width=_ref.width,width=_ref$width===void 0?\"100%\":_ref$width;var _useTranslation=useTranslation(),t=_useTranslation.t;var _useState=useState(),_useState2=_slicedToArray(_useState,2),rowSelected=_useState2[0],setRowSelected=_useState2[1];var handleSelectedRow=useCallback(function(item){return function(){onSelectedRow(item);setRowSelected(item);};},[onSelectedRow]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"view\",style:{width:width},children:/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[children,/*#__PURE__*/_jsx(\"div\",{className:\"tools\",hidden:hideTools,children:/*#__PURE__*/_jsxs(\"div\",{className:\"TableTools\",children:[/*#__PURE__*/_jsx(IconButton,{icon:\"fa-sharp fa-solid fa-plus\",onClick:onAdd,disabled:canAdd}),/*#__PURE__*/_jsx(IconButton,{icon:\"fa-sharp fa-solid fa-pen-clip\",onClick:onEdit,disabled:canEdit}),/*#__PURE__*/_jsx(IconButton,{icon:\"fa-sharp fa-solid fa-trash\",onClick:onDelete,disabled:canDelete}),addionalButtons&&addionalButtons.map(function(button){return/*#__PURE__*/_jsx(IconButton,{icon:button.icon,onClick:button.onClick,disabled:button.disabled});}),/*#__PURE__*/_jsx(IconButton,{icon:\"fa-solid fa-floppy-disk\",onClick:onSave,disabled:canSave}),/*#__PURE__*/_jsx(IconButton,{icon:\"fa-solid fa-print\",onClick:onPrint,disabled:canPrint})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table2 \",children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-secondary\",children:[columns.map(function(item){return/*#__PURE__*/_jsx(\"th\",{scope:\"col\",style:{width:item.width},children:t(item.title)});}),/*#__PURE__*/_jsx(\"th\",{hidden:!actionColumn,children:\"Action\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tbl-content\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table \",children:/*#__PURE__*/_jsx(\"tbody\",{children:dataSource===null||dataSource===void 0?void 0:dataSource.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{onClick:handleSelectedRow(item),children:[columns.map(function(column){return/*#__PURE__*/_jsx(\"td\",{className:\"\".concat(rowSelected===item?\"table-success\":\"table-light\",\" \"),style:{width:column.width},children:item[column.dataIndex]});}),/*#__PURE__*/_jsx(\"td\",{className:\"\".concat(rowSelected===item?\"table-success\":\"table-light\",\" \"),hidden:!actionColumn,children:/*#__PURE__*/_jsx(Button,{label:actionLabel,onClick:function onClick(){onAction(item);}})})]},item[rowkey]);})})})})]})]})})});};export default Table;","map":{"version":3,"names":["useState","useCallback","Button","IconButton","useTranslation","Table","dataSource","rowkey","columns","hideTools","canEdit","canAdd","canDelete","onAdd","onEdit","onDelete","children","actionColumn","onAction","actionLabel","onSelectedRow","canPrint","onPrint","addionalButtons","onSave","canSave","width","t","rowSelected","setRowSelected","handleSelectedRow","item","map","button","icon","onClick","disabled","title","column","dataIndex"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/components/TableView/Table.tsx"],"sourcesContent":["import { useState, useCallback } from 'react';\r\nimport \"./style.css\";\r\nimport Button from \"../button/button\";\r\nimport IconButton from '../button/iconButton';\r\nimport { addionalButton } from \"../../Types/general\";\r\nimport { TableProps } from \"./interfece\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\n\r\nconst Table = ({\r\n    dataSource,\r\n    rowkey = \"rowkey\",\r\n    columns,\r\n    hideTools = true,\r\n    canEdit = false,\r\n    canAdd = false,\r\n    canDelete = false,\r\n    onAdd,\r\n    onEdit,\r\n    onDelete,\r\n    children,\r\n    actionColumn = false,\r\n    onAction,\r\n    actionLabel = \"\",\r\n    onSelectedRow,\r\n    canPrint = false,\r\n    onPrint,\r\n    addionalButtons,\r\n    onSave,\r\n    canSave = false,\r\n    width = \"100%\"\r\n}: TableProps) => {\r\n    const { t } = useTranslation()\r\n    const [rowSelected, setRowSelected] = useState()\r\n    const handleSelectedRow = useCallback((item: any) => () => {\r\n        onSelectedRow(item)\r\n        setRowSelected(item)\r\n    }, [onSelectedRow])\r\n\r\n    return (\r\n        <>\r\n            <div className=\"view\" style={{ width: width }}>\r\n                <div className=\"section\">\r\n                    {children}\r\n                    <div className=\"tools\" hidden={hideTools}>\r\n                        <div className=\"TableTools\">\r\n                            <IconButton\r\n                                icon='fa-sharp fa-solid fa-plus'\r\n                                onClick={onAdd}\r\n                                disabled={canAdd}\r\n                            />\r\n                            <IconButton\r\n                                icon='fa-sharp fa-solid fa-pen-clip'\r\n                                onClick={onEdit}\r\n                                disabled={canEdit}\r\n                            />\r\n                            <IconButton\r\n                                icon='fa-sharp fa-solid fa-trash'\r\n                                onClick={onDelete}\r\n                                disabled={canDelete}\r\n                            />\r\n                            {addionalButtons && addionalButtons.map((button: addionalButton) => {\r\n                                return (\r\n                                    <IconButton\r\n                                        icon={button.icon}\r\n                                        onClick={button.onClick}\r\n                                        disabled={button.disabled}\r\n                                    />\r\n                                )\r\n                            })}\r\n                            <IconButton\r\n                                icon='fa-solid fa-floppy-disk'\r\n                                onClick={onSave}\r\n                                disabled={canSave}\r\n                            />\r\n                            <IconButton\r\n                                icon='fa-solid fa-print'\r\n                                onClick={onPrint}\r\n                                disabled={canPrint}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"table2 \">\r\n                        <table className='table'>\r\n                            <thead>\r\n                                <tr className='table-secondary'>\r\n                                    {columns.map((item: any) => {\r\n                                        return (\r\n                                            <th scope=\"col\" style={{ width: item.width }}>\r\n                                                {t(item.title)}\r\n                                            </th>\r\n                                        )\r\n                                    })}\r\n                                    <th hidden={!actionColumn}>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                        </table>\r\n                        <div className=\"tbl-content\">\r\n                            <table className='table '>\r\n                                <tbody>\r\n                                    {dataSource?.map((item: any) => {\r\n                                        return (\r\n                                            <tr key={item[rowkey]} onClick={handleSelectedRow(item)}>\r\n                                                {columns.map((column: any) => {\r\n                                                    return (\r\n                                                        <td className={`${rowSelected === item ? \"table-success\" : \"table-light\"} `} style={{ width: column.width }}>\r\n                                                            {item[column.dataIndex]}\r\n                                                        </td>\r\n                                                    )\r\n                                                })}\r\n                                                <td className={`${rowSelected === item ? \"table-success\" : \"table-light\"} `} hidden={!actionColumn}>\r\n                                                    <Button\r\n                                                        label={actionLabel}\r\n                                                        onClick={() => { onAction(item) }}\r\n                                                    />\r\n                                                </td>\r\n                                            </tr>\r\n                                        )\r\n                                    })}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Table;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}