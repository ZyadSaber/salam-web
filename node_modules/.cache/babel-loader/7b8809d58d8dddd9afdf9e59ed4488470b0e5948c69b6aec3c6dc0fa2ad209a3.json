{"ast":null,"code":"import _objectSpread from\"C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{memo,useCallback,useEffect,useState}from'react';import Header from'../../components/Header/component';import Footer from'../../components/Footer/component';import useCheckUser from'../../hooks/useCheckUser';import'./style.css';import useFetch from'../../hooks/useFetch';import ModalView from\"./Partials/ModalView\";import FormView from\"./Partials/FormView\";import Table from\"../../components/TableView/Table\";import useTableControlsButtons from\"../../components/TableView/hooks/useTableControlsButtons\";import{columns}from\"./constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EmployeesData=function EmployeesData(){//@ts-ignore\nvar _useTableControlsButt=useTableControlsButtons(\"basicData/customers_dml\"),setSelectedRow=_useTableControlsButt.setSelectedRow,onSaveAndInsertion=_useTableControlsButt.onSaveAndInsertion,selectedRow=_useTableControlsButt.selectedRow,onDelete=_useTableControlsButt.onDelete;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modal=_useState4[0],setModal=_useState4[1];var _useState5=useState([{employee_id:1,name:\"Zyad Ahmed\",date_of_hiring:\"2002-09-08T21:00:00.000Z\",address:\"2th Ahmed\",phone:\"01021020169\",mobile:\"0114455626\",job_title:\"Manager\",email:\"zya@gmail.com\",salary:3500,attendance_time:\"09:30\",leaving_time:\"11:30\",query_status:\"q\"}]),_useState6=_slicedToArray(_useState5,2),mainTableData=_useState6[0],setMainTableData=_useState6[1];var _useCheckUser=useCheckUser(),hidden=_useCheckUser.hidden;var _useFetch=useFetch(\"employeesData/employees\"),data=_useFetch.data;useEffect(function(){setMainTableData(data);},[data]);var handleAdd=useCallback(function(){setModal(true);setSelectedRow({query_status:\"n\"});},[setSelectedRow]);var handleCloseModal=useCallback(function(){setModal(false);setMainTableData(data);},[setModal,data]);var handleEdit=useCallback(function(){setModal(true);setSelectedRow(_objectSpread(_objectSpread({},selectedRow),{},{query_status:\"u\"}));},[selectedRow,setSelectedRow]);var handleSearchMethod=useCallback(function(){setMainTableData(data.filter(function(item){if(search===\"\")return item;else if(item.name.toLocaleLowerCase().includes(search.toLowerCase()))return item;}));},[data,search]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"customers\",hidden:hidden,children:[/*#__PURE__*/_jsx(Table,{title:\"Customers Data\",columns:columns,hideTools:false,canEdit:true,canAdd:true,canDelete:true,onAdd:handleAdd,onEdit:handleEdit,onDelete:onDelete,rowkey:\"employee_id\",dataSource:mainTableData,onSelectedRow:setSelectedRow,children:/*#__PURE__*/_jsx(FormView,{setValue:setSearch,onSearch:handleSearchMethod})}),/*#__PURE__*/_jsx(ModalView,{visible:modal,onOK:onSaveAndInsertion,onClose:handleCloseModal,setCustomer:setSelectedRow,customer:selectedRow})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default/*#__PURE__*/memo(EmployeesData);","map":{"version":3,"names":["React","memo","useCallback","useEffect","useState","Header","Footer","useCheckUser","useFetch","ModalView","FormView","Table","useTableControlsButtons","columns","EmployeesData","setSelectedRow","onSaveAndInsertion","selectedRow","onDelete","search","setSearch","modal","setModal","employee_id","name","date_of_hiring","address","phone","mobile","job_title","email","salary","attendance_time","leaving_time","query_status","mainTableData","setMainTableData","hidden","data","handleAdd","handleCloseModal","handleEdit","handleSearchMethod","filter","item","toLocaleLowerCase","includes","toLowerCase"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/src/Pages/EmployeesData/component.tsx"],"sourcesContent":["import React, { memo, useCallback, useEffect, useState } from 'react';\r\nimport Header from '../../components/Header/component';\r\nimport Footer from '../../components/Footer/component';\r\nimport useCheckUser from '../../hooks/useCheckUser';\r\nimport './style.css';\r\nimport useFetch from '../../hooks/useFetch';\r\nimport ModalView from \"./Partials/ModalView\";\r\nimport FormView from \"./Partials/FormView\";\r\nimport Table from \"../../components/TableView/Table\";\r\nimport useTableControlsButtons from \"../../components/TableView/hooks/useTableControlsButtons\";\r\nimport { columns } from \"./constants\"\r\n\r\ninterface EmployeesDataType {\r\n    employee_id: number;\r\n    name: string;\r\n    date_of_hiring?: string;\r\n    address?: string;\r\n    phone?: string;\r\n    mobile?: string;\r\n    job_title?: string;\r\n    email?: string;\r\n    salary?: number;\r\n    attendance_time?: string;\r\n    leaving_time?: string;\r\n    query_status?: string;\r\n}\r\n\r\nconst EmployeesData = () => {\r\n    //@ts-ignore\r\n    const { setSelectedRow, onSaveAndInsertion, selectedRow, onDelete } = useTableControlsButtons(\"basicData/customers_dml\")\r\n    const [search, setSearch] = useState(\"\");\r\n    const [modal, setModal] = useState(false);\r\n    const [mainTableData, setMainTableData] = useState<EmployeesDataType[]>([\r\n        {\r\n            employee_id: 1,\r\n            name: \"Zyad Ahmed\",\r\n            date_of_hiring: \"2002-09-08T21:00:00.000Z\",\r\n            address: \"2th Ahmed\",\r\n            phone: \"01021020169\",\r\n            mobile: \"0114455626\",\r\n            job_title: \"Manager\",\r\n            email: \"zya@gmail.com\",\r\n            salary: 3500,\r\n            attendance_time: \"09:30\",\r\n            leaving_time: \"11:30\",\r\n            query_status: \"q\"\r\n        }\r\n    ])\r\n\r\n    const { hidden } = useCheckUser()\r\n    const { data } = useFetch(\"employeesData/employees\")\r\n\r\n    useEffect(() => {\r\n        setMainTableData(data)\r\n    }, [data])\r\n\r\n    const handleAdd = useCallback(() => {\r\n        setModal(true)\r\n        setSelectedRow({ query_status: \"n\" })\r\n    }, [setSelectedRow])\r\n\r\n    const handleCloseModal = useCallback(() => {\r\n        setModal(false)\r\n        setMainTableData(data)\r\n    }, [setModal, data])\r\n\r\n    const handleEdit = useCallback(() => {\r\n        setModal(true)\r\n        setSelectedRow({ ...selectedRow, query_status: \"u\" })\r\n    }, [selectedRow, setSelectedRow])\r\n\r\n    const handleSearchMethod = useCallback(() => {\r\n        setMainTableData(data.filter((item: EmployeesDataType) => {\r\n            if (search === \"\") return item;\r\n            else if (item.name.toLocaleLowerCase().includes(search.toLowerCase())) return item;\r\n        }))\r\n    }, [data, search])\r\n\r\n\r\n    return (<>\r\n        <Header />\r\n\r\n        <div className=\"customers\" hidden={hidden}>\r\n            <Table\r\n                title={\"Customers Data\"}\r\n                columns={columns}\r\n                hideTools={false}\r\n                canEdit={true}\r\n                canAdd={true}\r\n                canDelete={true}\r\n                onAdd={handleAdd}\r\n                onEdit={handleEdit}\r\n                onDelete={onDelete}\r\n                rowkey={\"employee_id\"}\r\n                dataSource={mainTableData}\r\n                onSelectedRow={setSelectedRow}\r\n            >\r\n                <FormView\r\n                    setValue={setSearch}\r\n                    onSearch={handleSearchMethod}\r\n                />\r\n            </Table>\r\n\r\n            <ModalView\r\n                visible={modal}\r\n                onOK={onSaveAndInsertion}\r\n                onClose={handleCloseModal}\r\n                setCustomer={setSelectedRow}\r\n                customer={selectedRow}\r\n            />\r\n        </div>\r\n        <Footer />\r\n    </>)\r\n\r\n};\r\n\r\nexport default memo(EmployeesData);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}