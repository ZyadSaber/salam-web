{"ast":null,"code":"import{memo}from\"react\";import Table from\"../../components/TableView/Table\";import SelectWithApi from\"../../components/Select/SelectWithApi\";import Flex from\"../../components/Flex/Flex\";import useFormManager from\"../../hooks/useFormManager\";import{columns}from\"./constans\";import useFetch from\"../../hooks/useFetch\";import SearchButton from\"../../components/button/searchButton\";import InputText from\"../../components/InputText/InputText\";import YearSelect from\"../../components/Select/yearSelect\";import MonthSelect from\"../../components/Select/monthSelect\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EmployeeSheet=function EmployeeSheet(){var _useFormManager=useFormManager({initialValue:{employee_id:\"\"}}),state=_useFormManager.state,onChange=_useFormManager.onChange;var _useFetch=useFetch({link:\"QUERY_EMPLOYEE_SHEET_SALARY\",params:{employee_id:state.employee_id,year:state.year,month:state.month}}),data=_useFetch.data,runFetch=_useFetch.runFetch;var daysData=data.daysData,total_late_time=data.total_late_time,total_over_time=data.total_over_time,total_early_leaving=data.total_early_leaving,net_salary=data.net_salary,salary=data.salary,late_cost=data.late_cost,over_time_cost=data.over_time_cost;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",padding:\"0\",margin:\"0\",width:\"100%\",children:[/*#__PURE__*/_jsxs(Flex,{width:\"100%\",margin:\"0\",padding:\"0\",bordered:true,children:[/*#__PURE__*/_jsx(SelectWithApi,{Api:\"QUERY_EMPLOYEE_NAME_LIST\",name:\"employee_id\",Label:\"emply\",onChange:onChange,fetchOnFirstRun:true,value:state.employee_id}),/*#__PURE__*/_jsx(MonthSelect,{name:\"month\",Label:\"mnth\",onChange:onChange,value:state.month}),/*#__PURE__*/_jsx(YearSelect,{name:\"year\",Label:\"yr\",onChange:onChange,value:state.year,width:\"15%\",range:4}),/*#__PURE__*/_jsx(SearchButton,{onClick:runFetch})]}),/*#__PURE__*/_jsx(Table,{dataSource:daysData,columns:columns,hideTools:false,canPrint:true// onPrint\n}),/*#__PURE__*/_jsxs(Flex,{width:\"100%\",margin:\"0\",padding:\"0\",justifyContent:\"space-around\",children:[/*#__PURE__*/_jsx(InputText,{value:salary,Label:\"slry\",disabled:true}),/*#__PURE__*/_jsx(InputText,{value:total_late_time,Label:\"tltm\",disabled:true}),/*#__PURE__*/_jsx(InputText,{value:total_over_time,Label:\"tlvrtm\",disabled:true}),/*#__PURE__*/_jsx(InputText,{value:total_early_leaving,Label:\"tlrlylvng\",disabled:true}),/*#__PURE__*/_jsx(InputText,{value:late_cost,Label:\"ltcs\",disabled:true}),/*#__PURE__*/_jsx(InputText,{value:over_time_cost,Label:\"ovrtmcst\",disabled:true}),/*#__PURE__*/_jsx(InputText,{value:net_salary,Label:\"ntslry\",disabled:true})]})]})});};export default/*#__PURE__*/memo(EmployeeSheet);","map":{"version":3,"names":["memo","Table","SelectWithApi","Flex","useFormManager","columns","useFetch","SearchButton","InputText","YearSelect","MonthSelect","EmployeeSheet","initialValue","employee_id","state","onChange","link","params","year","month","data","runFetch","daysData","total_late_time","total_over_time","total_early_leaving","net_salary","salary","late_cost","over_time_cost"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/Pages/employeeSheet/component.tsx"],"sourcesContent":["import { memo } from \"react\";\nimport Table from \"../../components/TableView/Table\";\nimport SelectWithApi from \"../../components/Select/SelectWithApi\";\nimport Flex from \"../../components/Flex/Flex\";\nimport useFormManager from \"../../hooks/useFormManager\";\nimport { columns } from \"./constans\";\nimport useFetch from \"../../hooks/useFetch\";\nimport SearchButton from \"../../components/button/searchButton\";\nimport InputText from \"../../components/InputText/InputText\";\nimport YearSelect from \"../../components/Select/yearSelect\";\nimport MonthSelect from \"../../components/Select/monthSelect\";\n\nconst EmployeeSheet = () => {\n    const { state, onChange } = useFormManager({ initialValue: { employee_id: \"\", } })\n    const { data, runFetch } = useFetch({\n        link: \"QUERY_EMPLOYEE_SHEET_SALARY\",\n        params: {\n            employee_id: state.employee_id,\n            year: state.year,\n            month: state.month\n        }\n    })\n    const {\n        daysData,\n        total_late_time,\n        total_over_time,\n        total_early_leaving,\n        net_salary,\n        salary,\n        late_cost,\n        over_time_cost,\n    } = data\n    return (\n        <>\n            <Flex flexDirection=\"column\" padding=\"0\" margin=\"0\" width=\"100%\">\n                <Flex width=\"100%\" margin=\"0\" padding=\"0\" bordered>\n                    <SelectWithApi\n                        Api=\"QUERY_EMPLOYEE_NAME_LIST\"\n                        name=\"employee_id\"\n                        Label=\"emply\"\n                        onChange={onChange}\n                        fetchOnFirstRun\n                        value={state.employee_id}\n                    />\n                    <MonthSelect\n                        name=\"month\"\n                        Label=\"mnth\"\n                        onChange={onChange}\n                        value={state.month}\n                    />\n                    <YearSelect\n                        name=\"year\"\n                        Label=\"yr\"\n                        onChange={onChange}\n                        value={state.year}\n                        width=\"15%\"\n                        range={4}\n                    />\n                    <SearchButton\n                        onClick={runFetch}\n                    />\n                </Flex>\n                <Table\n                    dataSource={daysData}\n                    columns={columns}\n                    hideTools={false}\n                    canPrint={true}\n                // onPrint\n                />\n                <Flex width=\"100%\" margin=\"0\" padding=\"0\" justifyContent=\"space-around\">\n                    <InputText\n                        value={salary}\n                        Label=\"slry\"\n                        disabled\n                    />\n                    <InputText\n                        value={total_late_time}\n                        Label=\"tltm\"\n                        disabled\n                    />\n                    <InputText\n                        value={total_over_time}\n                        Label=\"tlvrtm\"\n                        disabled\n                    />\n                    <InputText\n                        value={total_early_leaving}\n                        Label=\"tlrlylvng\"\n                        disabled\n                    />\n                    <InputText\n                        value={late_cost}\n                        Label=\"ltcs\"\n                        disabled\n                    />\n                    <InputText\n                        value={over_time_cost}\n                        Label=\"ovrtmcst\"\n                        disabled\n                    />\n                    <InputText\n                        value={net_salary}\n                        Label=\"ntslry\"\n                        disabled\n                    />\n                </Flex>\n            </Flex>\n        </>\n    )\n}\n\nexport default memo(EmployeeSheet)"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}