{"ast":null,"code":"import _slicedToArray from\"C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{memo,useCallback,useEffect,useState}from'react';import Header from'../../components/Header/component';import Footer from'../../components/Footer/component';import useCheckUser from'../../hooks/useCheckUser';import'./style.css';import useFetch from'../../hooks/useFetch';import ModalView from\"./Partials/ModalView\";import FormView from\"./Partials/FormView\";import Table from\"../../components/TableView/Table\";import useTableControlsButtons from\"../../components/TableView/hooks/useTableControlsButtons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Suppliers=function Suppliers(){//@ts-ignore\nvar _useTableControlsButt=useTableControlsButtons(\"suppliers\"),setSelectedRow=_useTableControlsButt.setSelectedRow,onDelete=_useTableControlsButt.onDelete,onSaveAndInsertion=_useTableControlsButt.onSaveAndInsertion,setMode=_useTableControlsButt.setMode,selectedRow=_useTableControlsButt.selectedRow,response=_useTableControlsButt.response,modal=_useTableControlsButt.modal,setModal=_useTableControlsButt.setModal;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=useState([{name:\"\",email:\"\",phone:\"\",mobile:\"\",address:\"\"}]),_useState4=_slicedToArray(_useState3,2),mainTableData=_useState4[0],setMainTableData=_useState4[1];var _useCheckUser=useCheckUser(),hidden=_useCheckUser.hidden;var _useFetch=useFetch(\"http://localhost:8000/suppliers\"),data=_useFetch.data;useEffect(function(){setMainTableData(data);},[data,response]);var handleAdd=useCallback(function(){setMode(\"n\");setModal(true);setSelectedRow({});},[setMode,setModal,setSelectedRow]);var handleCloseModal=useCallback(function(){setModal(false);setSelectedRow({});setMode(\"\");setMainTableData(data);},[setModal,setSelectedRow,setMode,data]);var handleEdit=useCallback(function(){setMode(\"u\");setModal(true);},[setModal,setMode]);var handleSelect=useCallback(function(selected){return function(){setSelectedRow(selected);};},[setSelectedRow]);var handleSearchMethod=useCallback(function(){setMainTableData(data.filter(function(item){if(search===\"\")return item;else if(item.name.toLocaleLowerCase().includes(search.toLowerCase()))return item;}));},[data,search]);var columns=[{title:\"Name\"},{title:\"Email\"},{title:\"Phone\"},{title:\"Mobile\"},{title:\"Address\"}];return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"Suppliers\",hidden:hidden,children:[/*#__PURE__*/_jsx(Table,{title:\"Supplier Data\",columns:columns,Form:/*#__PURE__*/_jsx(FormView,{setValue:setSearch,onSearch:handleSearchMethod}),hideTools:false,canEdit:true,canAdd:true,canDelete:true,onAdd:handleAdd,onEdit:handleEdit,onDelete:onDelete,children:mainTableData.map(function(Supplier){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(Supplier),children:Supplier.name}),/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(Supplier),children:Supplier.email}),/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(Supplier),children:Supplier.phone}),/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(Supplier),children:Supplier.mobile}),/*#__PURE__*/_jsx(\"td\",{onClick:handleSelect(Supplier),children:Supplier.address})]});})}),/*#__PURE__*/_jsx(ModalView,{visible:modal,onOK:onSaveAndInsertion,onClose:handleCloseModal,setSuppliers:setSelectedRow,suppliers:selectedRow})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default/*#__PURE__*/memo(Suppliers);","map":{"version":3,"names":["React","memo","useCallback","useEffect","useState","Header","Footer","useCheckUser","useFetch","ModalView","FormView","Table","useTableControlsButtons","Suppliers","setSelectedRow","onDelete","onSaveAndInsertion","setMode","selectedRow","response","modal","setModal","search","setSearch","name","email","phone","mobile","address","mainTableData","setMainTableData","hidden","data","handleAdd","handleCloseModal","handleEdit","handleSelect","selected","handleSearchMethod","filter","item","toLocaleLowerCase","includes","toLowerCase","columns","title","map","Supplier"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/src/Pages/Suppliers/component.tsx"],"sourcesContent":["import React, { memo, useCallback, useEffect, useState } from 'react';\r\nimport Header from '../../components/Header/component';\r\nimport Footer from '../../components/Footer/component';\r\nimport useCheckUser from '../../hooks/useCheckUser';\r\nimport './style.css';\r\nimport useFetch from '../../hooks/useFetch';\r\nimport ModalView from \"./Partials/ModalView\";\r\nimport FormView from \"./Partials/FormView\";\r\nimport Table from \"../../components/TableView/Table\";\r\nimport useTableControlsButtons from \"../../components/TableView/hooks/useTableControlsButtons\"\r\n\r\ninterface SupplierType {\r\n    id?: number;\r\n    name: string;\r\n    email?: string;\r\n    phone?: string;\r\n    mobile?: string;\r\n    address?: string\r\n}\r\n\r\nconst Suppliers = () => {\r\n    //@ts-ignore\r\n    const { setSelectedRow, onDelete, onSaveAndInsertion, setMode, selectedRow, response, modal, setModal } = useTableControlsButtons(\"suppliers\")\r\n    const [search, setSearch] = useState(\"\");\r\n    const [mainTableData, setMainTableData] = useState<SupplierType[]>([\r\n        {\r\n            name: \"\",\r\n            email: \"\",\r\n            phone: \"\",\r\n            mobile: \"\",\r\n            address: \"\"\r\n        }\r\n    ])\r\n\r\n    const { hidden } = useCheckUser()\r\n    const { data } = useFetch(\"http://localhost:8000/suppliers\")\r\n\r\n    useEffect(() => {\r\n        setMainTableData(data)\r\n    }, [data, response])\r\n\r\n    const handleAdd = useCallback(() => {\r\n        setMode(\"n\")\r\n        setModal(true)\r\n        setSelectedRow({})\r\n    }, [setMode, setModal, setSelectedRow])\r\n\r\n    const handleCloseModal = useCallback(() => {\r\n        setModal(false)\r\n        setSelectedRow({})\r\n        setMode(\"\")\r\n        setMainTableData(data)\r\n    }, [setModal, setSelectedRow, setMode, data])\r\n\r\n    const handleEdit = useCallback(() => {\r\n        setMode(\"u\")\r\n        setModal(true)\r\n    }, [setModal, setMode])\r\n\r\n    const handleSelect = useCallback((selected: SupplierType) => () => { setSelectedRow(selected) }, [setSelectedRow])\r\n\r\n    const handleSearchMethod = useCallback(() => {\r\n        setMainTableData(data.filter((item: SupplierType) => {\r\n            if (search === \"\") return item;\r\n            else if (item.name.toLocaleLowerCase().includes(search.toLowerCase())) return item;\r\n        }))\r\n    }, [data, search])\r\n\r\n    const columns = [\r\n        { title: \"Name\" },\r\n        { title: \"Email\" },\r\n        { title: \"Phone\" },\r\n        { title: \"Mobile\" },\r\n        { title: \"Address\" },\r\n    ]\r\n\r\n\r\n    return (\r\n        <>\r\n            <Header />\r\n\r\n            <div className=\"Suppliers\" hidden={hidden}>\r\n                <Table\r\n                    title={\"Supplier Data\"}\r\n                    columns={columns}\r\n                    Form={<FormView\r\n                        setValue={setSearch}\r\n                        onSearch={handleSearchMethod}\r\n                    />}\r\n                    hideTools={false}\r\n                    canEdit={true}\r\n                    canAdd={true}\r\n                    canDelete={true}\r\n                    onAdd={handleAdd}\r\n                    onEdit={handleEdit}\r\n                    onDelete={onDelete}\r\n                >\r\n                    {mainTableData.map((Supplier: SupplierType) => {\r\n                        return (\r\n                            <>\r\n                                <td onClick={handleSelect(Supplier)}>{Supplier.name}</td>\r\n                                <td onClick={handleSelect(Supplier)}>{Supplier.email}</td>\r\n                                <td onClick={handleSelect(Supplier)}>{Supplier.phone}</td>\r\n                                <td onClick={handleSelect(Supplier)}>{Supplier.mobile}</td>\r\n                                <td onClick={handleSelect(Supplier)}>{Supplier.address}</td>\r\n                            </>\r\n                        )\r\n                    })}\r\n                </Table>\r\n\r\n                <ModalView\r\n                    visible={modal}\r\n                    onOK={onSaveAndInsertion}\r\n                    onClose={handleCloseModal}\r\n                    setSuppliers={setSelectedRow}\r\n                    suppliers={selectedRow}\r\n                />\r\n            </div>\r\n            <Footer />\r\n        </>\r\n    )\r\n};\r\n\r\nexport default memo(Suppliers);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}