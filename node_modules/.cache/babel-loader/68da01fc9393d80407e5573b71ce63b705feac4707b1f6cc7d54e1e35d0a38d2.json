{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback, useEffect } from \"react\";\nimport usePost from \"../../../hooks/usePost\";\nimport { useToast } from '@chakra-ui/react';\nconst useTableControlsButtons = _ref => {\n  _s();\n  let {\n    api = \"\"\n  } = _ref;\n  const toast = useToast();\n  const [selectedRow, setRows] = useState({});\n  const {\n    setRow,\n    success\n  } = usePost({\n    link: api\n  });\n  const onSaveAndInsertion = () => {\n    //@ts-ignore\n    if (selectedRow.query_status !== undefined) {\n      setRow(selectedRow);\n    }\n  };\n  useEffect(() => {\n    if (success) {\n      if (success.response === \"success\") {\n        toast({\n          position: \"top-right\",\n          title: 'Alert',\n          description: `${success.response}`,\n          status: 'success',\n          duration: 9000,\n          isClosable: true\n        });\n      } else {\n        toast({\n          position: \"top-right\",\n          title: 'Alert',\n          description: `${success.response}`,\n          status: 'error',\n          duration: 9000,\n          isClosable: true\n        });\n      }\n    }\n  }, [success, toast]);\n  const setSelectedRow = useCallback(v => {\n    setRows(v);\n  }, []);\n  return {\n    setSelectedRow,\n    onSaveAndInsertion,\n    selectedRow,\n    success\n  };\n};\n_s(useTableControlsButtons, \"0jAlyEtHvsTCNMf33tFsOW4Bk6A=\", false, function () {\n  return [useToast, usePost];\n});\nexport default useTableControlsButtons;","map":{"version":3,"names":["useState","useCallback","useEffect","usePost","useToast","useTableControlsButtons","api","toast","selectedRow","setRows","setRow","success","link","onSaveAndInsertion","query_status","undefined","response","position","title","description","status","duration","isClosable","setSelectedRow","v"],"sources":["/home/zyad/Documents/active_projects/SalamApp/src/components/TableView/hooks/useTableControlsButtons.ts"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\r\nimport usePost from \"../../../hooks/usePost\";\r\nimport { useToast } from '@chakra-ui/react'\r\n\r\nconst useTableControlsButtons = ({api = \"\"}) => {\r\n\r\n    const toast = useToast()\r\n\r\n    const [selectedRow, setRows] = useState<any>({})\r\n    const { setRow, success } = usePost({link: api})\r\n\r\n    const onSaveAndInsertion = ()=>{\r\n        //@ts-ignore\r\n       if(selectedRow.query_status !== undefined){\r\n        setRow(selectedRow)\r\n       }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(success){\r\n            if (success.response === \"success\"){\r\n            toast({\r\n            position: \"top-right\",\r\n            title: 'Alert',\r\n            description: `${success.response}`,\r\n            status: 'success',\r\n            duration: 9000,\r\n            isClosable: true,\r\n        })\r\n            } else {\r\n                toast({\r\n            position: \"top-right\",\r\n            title: 'Alert',\r\n            description: `${success.response}`,\r\n            status: 'error',\r\n            duration: 9000,\r\n            isClosable: true,\r\n        })\r\n            }\r\n            \r\n        }\r\n    },[success, toast])\r\n\r\n    const setSelectedRow = useCallback((v:any)=>{\r\n        setRows(v)\r\n    },[])\r\n    return{setSelectedRow, onSaveAndInsertion, selectedRow, success}\r\n\r\n}\r\n\r\nexport default useTableControlsButtons"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACxD,OAAOC,OAAO,MAAM,wBAAwB;AAC5C,SAASC,QAAQ,QAAQ,kBAAkB;AAE3C,MAAMC,uBAAuB,GAAG,QAAgB;EAAA;EAAA,IAAf;IAACC,GAAG,GAAG;EAAE,CAAC;EAEvC,MAAMC,KAAK,GAAGH,QAAQ,EAAE;EAExB,MAAM,CAACI,WAAW,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAM,CAAC,CAAC,CAAC;EAChD,MAAM;IAAEU,MAAM;IAAEC;EAAQ,CAAC,GAAGR,OAAO,CAAC;IAACS,IAAI,EAAEN;EAAG,CAAC,CAAC;EAEhD,MAAMO,kBAAkB,GAAG,MAAI;IAC3B;IACD,IAAGL,WAAW,CAACM,YAAY,KAAKC,SAAS,EAAC;MACzCL,MAAM,CAACF,WAAW,CAAC;IACpB;EACH,CAAC;EAEDN,SAAS,CAAC,MAAI;IACV,IAAGS,OAAO,EAAC;MACP,IAAIA,OAAO,CAACK,QAAQ,KAAK,SAAS,EAAC;QACnCT,KAAK,CAAC;UACNU,QAAQ,EAAE,WAAW;UACrBC,KAAK,EAAE,OAAO;UACdC,WAAW,EAAG,GAAER,OAAO,CAACK,QAAS,EAAC;UAClCI,MAAM,EAAE,SAAS;UACjBC,QAAQ,EAAE,IAAI;UACdC,UAAU,EAAE;QAChB,CAAC,CAAC;MACE,CAAC,MAAM;QACHf,KAAK,CAAC;UACVU,QAAQ,EAAE,WAAW;UACrBC,KAAK,EAAE,OAAO;UACdC,WAAW,EAAG,GAAER,OAAO,CAACK,QAAS,EAAC;UAClCI,MAAM,EAAE,OAAO;UACfC,QAAQ,EAAE,IAAI;UACdC,UAAU,EAAE;QAChB,CAAC,CAAC;MACE;IAEJ;EACJ,CAAC,EAAC,CAACX,OAAO,EAAEJ,KAAK,CAAC,CAAC;EAEnB,MAAMgB,cAAc,GAAGtB,WAAW,CAAEuB,CAAK,IAAG;IACxCf,OAAO,CAACe,CAAC,CAAC;EACd,CAAC,EAAC,EAAE,CAAC;EACL,OAAM;IAACD,cAAc;IAAEV,kBAAkB;IAAEL,WAAW;IAAEG;EAAO,CAAC;AAEpE,CAAC;AAAA,GA5CKN,uBAAuB;EAAA,QAEXD,QAAQ,EAGMD,OAAO;AAAA;AAyCvC,eAAeE,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}