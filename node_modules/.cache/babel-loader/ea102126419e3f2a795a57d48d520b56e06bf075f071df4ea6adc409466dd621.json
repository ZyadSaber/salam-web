{"ast":null,"code":"import _slicedToArray from\"C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback}from'react';import\"./style.css\";import Button from\"../button/button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Table=function Table(_ref){var dataSource=_ref.dataSource,_ref$rowkey=_ref.rowkey,rowkey=_ref$rowkey===void 0?\"id\":_ref$rowkey,columns=_ref.columns,_ref$hideTools=_ref.hideTools,hideTools=_ref$hideTools===void 0?true:_ref$hideTools,_ref$canEdit=_ref.canEdit,canEdit=_ref$canEdit===void 0?false:_ref$canEdit,_ref$canAdd=_ref.canAdd,canAdd=_ref$canAdd===void 0?false:_ref$canAdd,_ref$canDelete=_ref.canDelete,canDelete=_ref$canDelete===void 0?false:_ref$canDelete,onAdd=_ref.onAdd,onEdit=_ref.onEdit,onDelete=_ref.onDelete,children=_ref.children,_ref$actionColumn=_ref.actionColumn,actionColumn=_ref$actionColumn===void 0?false:_ref$actionColumn,onAction=_ref.onAction,_ref$actionLabel=_ref.actionLabel,actionLabel=_ref$actionLabel===void 0?\"\":_ref$actionLabel,onSelectedRow=_ref.onSelectedRow;//@ts-ignore\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),rowSelected=_useState2[0],setRowSelected=_useState2[1];var handleSelectedRow=useCallback(function(item){return function(){onSelectedRow(item);setRowSelected(item);};},[onSelectedRow]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"Table\",children:/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"head\",children:children}),/*#__PURE__*/_jsx(\"div\",{className:\"tools\",hidden:hideTools,children:/*#__PURE__*/_jsxs(\"div\",{className:\"TableTools\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:!canAdd,onClick:onAdd,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-plus\"})}),/*#__PURE__*/_jsx(\"button\",{disabled:!canEdit,onClick:onEdit,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-pen-clip\"})}),/*#__PURE__*/_jsx(\"button\",{disabled:!canDelete,onClick:onDelete,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-sharp fa-solid fa-trash\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"tbl-header\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[columns.map(function(item){return/*#__PURE__*/_jsx(\"th\",{style:{width:\"\".concat(item.width,\"%\")},children:item.title});}),/*#__PURE__*/_jsx(\"th\",{hidden:!actionColumn,children:\"Action\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tbl-content\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:dataSource===null||dataSource===void 0?void 0:dataSource.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{onClick:handleSelectedRow(item),children:[columns.map(function(column){return/*#__PURE__*/_jsx(\"td\",{className:\"\".concat(rowSelected===item&&\"selectedRow\"),style:{width:\"\".concat(column.width,\"%\")},children:item[column.dataIndex]});}),/*#__PURE__*/_jsx(\"td\",{hidden:!actionColumn,children:/*#__PURE__*/_jsx(Button,{label:actionLabel,onClick:onAction})})]},item[rowkey]);})})})})]})})});};export default Table;","map":{"version":3,"names":["React","useState","useCallback","Button","Table","dataSource","rowkey","columns","hideTools","canEdit","canAdd","canDelete","onAdd","onEdit","onDelete","children","actionColumn","onAction","actionLabel","onSelectedRow","rowSelected","setRowSelected","handleSelectedRow","item","map","width","title","column","dataIndex"],"sources":["C:/Users/Zyad Ahmed/Documents/Active Projects/SalamApp/src/components/TableView/Table.tsx"],"sourcesContent":["import React, { memo, useState, useMemo, useCallback, useEffect } from 'react';\r\nimport \"./style.css\";\r\nimport Button from \"../button/button\";\r\n\r\ninterface TableProps {\r\n    rowkey?: string | number;\r\n    dataSource?: any[];\r\n    columns: column[];\r\n    title?: string;\r\n    canEdit?: boolean;\r\n    canAdd?: boolean;\r\n    canDelete?: boolean;\r\n    hideTools?: boolean;\r\n    onAdd?: () => void;\r\n    onEdit?: () => void | any;\r\n    onDelete?: () => void;\r\n    children?: any;\r\n    Form?: any;\r\n    actionColumn?: boolean;\r\n    onAction?: () => void;\r\n    actionLabel?: string;\r\n    onSelectedRow?: any\r\n}\r\n\r\ninterface column {\r\n    title: string,\r\n    width?: number,\r\n    dataIndex?: string,\r\n}\r\n\r\nconst Table = ({\r\n    dataSource,\r\n    rowkey = \"id\",\r\n    columns,\r\n    hideTools = true,\r\n    canEdit = false,\r\n    canAdd = false,\r\n    canDelete = false,\r\n    onAdd,\r\n    onEdit,\r\n    onDelete,\r\n    children,\r\n    actionColumn = false,\r\n    onAction,\r\n    actionLabel = \"\",\r\n    onSelectedRow\r\n}: TableProps) => {\r\n    //@ts-ignore\r\n    const [rowSelected, setRowSelected] = useState()\r\n\r\n    const handleSelectedRow = useCallback((item: any) => () => {\r\n        onSelectedRow(item)\r\n        setRowSelected(item)\r\n    }, [onSelectedRow])\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"Table\">\r\n                <section>\r\n                    <div className=\"head\">\r\n                        {children}\r\n                    </div>\r\n                    <div className=\"tools\" hidden={hideTools}>\r\n                        <div className=\"TableTools\">\r\n                            <button disabled={!canAdd} onClick={onAdd} >\r\n                                <i className=\"fa-sharp fa-solid fa-plus\"></i>\r\n                            </button>\r\n                            <button disabled={!canEdit} onClick={onEdit} >\r\n                                <i className=\"fa-sharp fa-solid fa-pen-clip\"></i>\r\n                            </button>\r\n                            <button disabled={!canDelete} onClick={onDelete} >\r\n                                <i className=\"fa-sharp fa-solid fa-trash\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"tbl-header\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    {columns.map((item: any) => {\r\n                                        return (\r\n                                            <th style={{ width: `${item.width}%` }}>\r\n                                                {item.title}\r\n                                            </th>\r\n                                        )\r\n                                    })}\r\n                                    <th hidden={!actionColumn}>Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"tbl-content\">\r\n                        <table>\r\n                            <tbody>\r\n                                {dataSource?.map((item: any) => {\r\n                                    return (\r\n                                        <tr key={item[rowkey]} onClick={handleSelectedRow(item)}>\r\n                                            {columns.map((column: any) => {\r\n                                                return (\r\n                                                    <td className={`${rowSelected === item && \"selectedRow\"}`} style={{ width: `${column.width}%` }}>\r\n                                                        {item[column.dataIndex]}\r\n                                                    </td>\r\n                                                )\r\n                                            })}\r\n                                            <td hidden={!actionColumn}>\r\n                                                <Button\r\n                                                    label={actionLabel}\r\n                                                    onClick={onAction}\r\n                                                />\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </section>\r\n            </div >\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Table;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}